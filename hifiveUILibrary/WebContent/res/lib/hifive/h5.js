/* Copyright (C) 2012-2013 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version 1.1.5 gitCommitId 5fddf8389c19161499124ceab70bb58d5fa67f82 (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(a){var K,qa;function e(a,e,v){var C=null,u=ua[a],w=Ba[a];w&&(C=w(a,u,e,v));!C&&u&&(C=h.u.str.format.apply(null,[u].concat(e)));C&&(C+="(code="+a+")");e=C?Error(C):Error("FwError: code = "+a);a&&(e.code=a);v&&(e.detail=v);throw e;}function ba(a,e,v){var C=null,u=ua[a];u&&(e=[u].concat(e),C=h.u.str.format.apply(null,e));return{code:a,message:C,detail:v}}function L(e){return null==e?e:a.isArray(e)?e:[e]}function ga(a){var e=document.createElement("span");e.innerHTML='<a href="'+a+'" />';return e.firstChild.href}
function y(a){return"string"===typeof a}function ja(a){return!y(a)?!1:!!a.match(/^[A-Za-z_\$][\w|\$]*$/)}function ra(e){if("regexp"===a.type(e))return e;var h="",h=-1!==e.indexOf("*")?a.map(e.split("*"),function(a){return a.replace(/\W/g,"\\$&")}).join(".*"):e;return RegExp("^"+h+"$")}var va=void 0;if(window.h5){if(window.h5.env&&"1.1.5"===window.h5.env.version)return;va=window.h5}var h={};window.h5=h;h.coexist=function(){window.h5=va;return h};h.env={version:"1.1.5"};var ua={},Ba={};K={controllerInternal:null};
qa=void 0;(function(){function m(a){switch(a){case "string":return"s";case "number":return"n";case "boolean":return"b";case "String":return"S";case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case B:return"u";case "undefElem":return"_";case "objElem":return"@"}}function q(a,e){if(y(a)){var b=a;e&&(b=b.replace(/\\n/g,
"\n").replace(/\\r/g,"\r"));return b=b.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}return a instanceof String?new String(q(a.toString())):a}function v(a,b){return"1"===b?a:y(a)?a.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):a instanceof String?new String(v(a.toString())):a}function C(a,b,e){var k=h.async.deferred();
h.ajax({url:a,async:b,cache:e,dataType:"script",converters:{"text script":function(a){return a}}}).done(function(){var a=G(arguments);a.push(this.url);k.notifyWith(k,a);k.resolveWith(k,a)}).fail(function(){k.rejectWith(k,G(arguments))});return k.promise()}function u(a){y(a)||e(i,"h5.u.obj.ns()");for(var a=a.split("."),b=a.length,g=0;g<b;g++)ja(a[g])||e(i,"h5.u.obj.ns()");for(var k=window,g=0;g<b;g++){var c=a[g];void 0===k[c]&&(k[c]={});k=k[c]}return k}function w(a,b){var g=u(a),k;for(k in b)b.hasOwnProperty(k)&&
(void 0!==g[k]&&e(l,[a,k]),g[k]=b[k])}function G(a){return Array.prototype.slice.call(a)}var B="undefined",i=11E3,l=11001,g=11004,r=11005,b=11006,o={},t={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&apos;"},P=void 0!==document.createElement("script").onload,J=-1===/\r\n/.toString().indexOf("\r\n");w("h5.u",{loadScript:function(b,g){var B=h.async.deferred,k=L(b);(!k||0===k.length)&&e(11007);for(var c=0,f=k.length;c<f;c++)b=k[c],(!y(b)||!a.trim(b))&&e(11007);null!=g&&!a.isPlainObject(g)&&e(11008,
"h5.u.loadScript()");var j=g&&!1===g.async?!1:!0,M=!!(g&&!0===g.force),c=!!(g&&!0===g.parallel),H=!!(g&&!0===g.atomic),t=!M,m=j?B():null,i=j?function(a){m.reject(ba(11010,[a]))}:null,f=j?function(){var a=B();setTimeout(function(){a.resolve([])},0);return a.promise()}:null,q=c?[]:null,r=[],l={};if(j){if(!H&&P){var u=a("head"),v=function(a){var c=B(),n=document.createElement("script");n.onload=function(){n.onload=null;o[a]=a;c.resolve()};n.onerror=function(){n.onerror=null;c.reject(a)};n.type="text/javascript";
n.src=t?a:a+(-1<a.indexOf("?")?"&_":"?_")+ +new Date;u[0].appendChild(n);return c.promise()};if(c)q.push(f()),a.each(k,function(){var a=ga(this);if(!M&&a in o)return!0;q.push(v(a))}),h.async.when(q).then(function(){m.resolve()},i);else{var w=B().resolve().pipe(f);a.each(k,function(){var a=ga(this);w=w.pipe(function(){if(M||!(a in o))return v(a)},i)});w.pipe(function(){m.resolve()},i)}}else if(c){var J=[];q.push(f());J.push(null);a.each(k,function(){var a=ga(this);if(!M&&(a in o||a in l))return!0;
q.push(C(a,j,t));H?l[a]=a:J.push(null)});c=k=null;H?(k=function(){a.each(G(arguments),function(c,f){a.globalEval(f[0])});a.extend(o,l);m.resolve()},c=a.noop):(k=function(){m.resolve()},c=function(){for(var c=G(arguments),f=0;f<J.length;f++)if(c[f]){var n=c[f][3];J[f]!==n&&(a.globalEval(c[f][0]),J.splice(f,1,n))}});h.async.when(q).then(k,i,c)}else w=B().resolve().pipe(f),a.each(k,function(){var c=ga(this);w=w.pipe(function(){var f=B();!M&&(c in o||c in l)?f.resolve():C(c,j,t).then(function(n){H?(r.push(n),
l[c]=c):(a.globalEval(n),o[c]=c);f.resolve()},function(){f.reject(this.url)});return f.promise()},i)}),w.pipe(function(){H&&(a.each(r,function(c,f){a.globalEval(f)}),a.extend(o,l));m.resolve()},i);return m.promise()}a.each(k,function(){var c=ga(this);if(!M&&(c in o||c in l))return!0;C(c,j,t).then(function(f){H?(r.push(f),l[c]=c):(a.globalEval(f),o[c]=c)},function(){e(11010,[c])})});H&&(a.each(r,function(c,f){a.globalEval(f)}),a.extend(o,l))},createInterceptor:function(a,b){return function(e){var g=
{},c=a?a.call(this,e,g):e.proceed();e.result=c;if(!b)return c;if(h.async.isPromise(c)){var f=this;c.always(function(){b.call(f,e,g)});return c}b.call(this,e,g);return c}}});w("h5.u.str",{startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var e=a.length-b.length;return 0<=e&&a.lastIndexOf(b)===e},format:function(a,b){if(null==a)return"";var e=arguments;return a.replace(/\{(\d+)\}/g,function(a,c){var f=e[parseInt(c,10)+1];return typeof f===B?B:f})},escapeHtml:function(b){return"string"!==
a.type(b)?b:b.replace(/[&"'<>]/g,function(a){return t[a]})}});w("h5.u.obj",{expose:w,ns:u,serialize:function(b){function g(a){for(var j=0,b=c.length;j<b;j++)if(a===c[j])return!0;return!1}function o(a){for(var j=0,b=c.length;j<b;j++)a===c[j]&&c.splice(j,1)}function k(f){var j=f,b=a.type(f);"object"===typeof f&&(f instanceof String?b="String":f instanceof Number?b="Number":f instanceof Boolean&&(b="Boolean"));switch(b){case "String":case "string":j=m(b)+q(j);break;case "Boolean":j=j.valueOf();case "boolean":j=
m(b)+(j?1:0);break;case "Number":j=j.valueOf();if(a.isNaN&&a.isNaN(f)||a.isNumeric&&!a.isNumeric(f))j=Infinity===f.valueOf()?m("infinity"):-Infinity===f.valueOf()?m("-infinity"):m("nan");j=m(b)+j;break;case "number":j=a.isNaN&&a.isNaN(f)||a.isNumeric&&!a.isNumeric(f)?Infinity===f?m("infinity"):-Infinity===f?m("-infinity"):m("nan"):m(b)+j;break;case "regexp":j=m(b)+q(j.toString(),J);break;case "date":j=m(b)+ +j;break;case "array":g(f)&&e(ERR_CODE_REFERENCE_CYCLE);c.push(f);for(var t=[],j=m(b)+"[",
b=0,h=f.length;b<h;b++){t[b.toString()]=!0;var i;i=f.hasOwnProperty(b)?"function"===a.type(f[b])?m(B):k(f[b]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):m("undefElem");j+='"'+i+'"';b!==f.length-1&&(j+=",")}var b="",l;for(l in f)t[l]||"function"!==a.type(f[l])&&(b+='"'+q(l)+'":"'+k(f[l]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');b&&(j+=(f.length?",":"")+'"'+m("objElem")+"{"+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),j=j.replace(/,$/,""),j+='}"');j+="]";o(f);break;case "object":g(f)&&e(r);c.push(f);
j=m(b)+"{";for(l in f)f.hasOwnProperty(l)&&"function"!==a.type(f[l])&&(j+='"'+l+'":"'+k(f[l]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');j=j.replace(/,$/,"");j+="}";o(f);break;case "null":case B:j=m(b)}return j}a.isFunction(b)&&e(11002);var c=[];return"2|"+k(b)},deserialize:function(o){function t(c){function f(a){switch(a){case "s":return"string";case "n":return"number";case "b":return"boolean";case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";
case "I":return"-infinity";case "x":return"nan";case "d":return"date";case "r":return"regexp";case "a":return"array";case "o":return"object";case "l":return"null";case "u":return B;case "_":return"undefElem";case "@":return"objElem"}}c.match(/^(.)(.*)/);c=RegExp.$1;k=RegExp.$2?RegExp.$2:"";if(void 0!==c&&""!==c)switch(f(c)){case "String":k=new String(v(k,h));break;case "string":break;case "Boolean":"0"===k||"1"===k?k=new Boolean("1"===k):e(b);break;case "boolean":"0"===k||"1"===k?k="1"===k:e(b);break;
case "nan":""!==k&&e(b);k=NaN;break;case "infinity":""!==k&&e(b);k=Infinity;break;case "-infinity":""!==k&&e(b);k=-Infinity;break;case "Number":"infinity"===f(k)?k=new Number(Infinity):"-infinity"===f(k)?k=new Number(-Infinity):"nan"===f(k)?k=new Number(NaN):(k=new Number(k),isNaN(k.valueOf())&&e(b));break;case "number":k=(new Number(k)).valueOf();isNaN(k)&&e(b);break;case "array":var j;try{j=a.parseJSON(k)}catch(o){e(b)}a.isArray(j)||e(b);for(var i=0;i<j.length;i++)switch(f(j[i].substring(0,1))){case "undefElem":delete j[i];
break;case "objElem":for(var l=t(m("object")+j[i].substring(1)),c=[],i=0,q=j.length-1;i<q;i++)c[i]=j[i];j=c;for(var r in l)j[r]=l[r];break;default:j[i]=t(j[i])}k=j;break;case "object":try{j=a.parseJSON(k)}catch(u){e(b)}a.isPlainObject(j)||e(b);for(r in j)j[r]=t(j[r]);k=j;break;case "date":k=new Date(parseInt(k,10));break;case "regexp":try{i=k.match(/^\/(.*)\/(.*)$/),l=v(i[1],h),k=RegExp(l,i[2])}catch(C){e(b)}break;case "null":""!==k&&e(b);k=null;break;case B:""!==k&&e(b);k=void 0;break;default:e(g)}return v(k,
h)}y(o)||e(11009);o.match(/^(.)\|(.*)/);var h=RegExp.$1;"1"!==h&&"2"!==h&&e(11003,[h,"2"]);var k=RegExp.$2;return t(k)},isJQueryObject:function(b){return!b||!b.jquery?!1:b.jquery===a().jquery},argsToArray:G,getByPath:function(a){y(a)||e(i,"h5.u.obj.getByPath()");a=a.split(".");"window"===a[0]&&a.unshift();for(var b=window,g=0,k=a.length;g<k&&!(b=b[a[g]],null==b);g++);return b}})})();(function(){var m,q,v,C,u,w,G;function B(a){return a.match(/^error$/i)?m:a.match(/^warn$/i)?q:a.match(/^info$/i)?v:
a.match(/^debug$/i)?C:a.match(/^trace$/i)?u:a.match(/^all$/i)?w:a.match(/^none$/i)?G:null}function i(c,f){var b={};if(a.isArray(c)){var e=c.slice(0,3).join(" <- ");0<c.slice(3).length&&(e+=" ...");b.recent=e;b.all=f.join("\n")}else b.recent=c,b.all=f;return b}function l(a){var f="";a.name?f=a.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(a.toString()),f=RegExp.$1);return f}function g(c){for(var c=h.u.obj.argsToArray(c),f=[],b=0,e=c.length;b<e;b++)f.push(a.type(c[b]));return f.join(", ")}function r(){}
function b(c){(!y(c)||0===a.trim(c).length)&&e(J);this.category=a.trim(c)}var o=10002,t=10003,P=10004,J=10005,D=10007,N=10008,F=10010;m=50;q=40;v=30;C=20;u=10;w=0;G=-1;var k=null;r.prototype={init:function(){},log:function(a){window.console&&(y(a.args[0])?this._logMsg(a):this._logObj(a))},_logMsg:function(a){var f=a.args,b=null,b=1===f.length?f[0]:h.u.str.format.apply(h.u.str,f),f=this._getLogPrefix(a)+b;a.logger.enableStackTrace&&(f+="  ["+a.stackTrace.recent+"]");a.logger.enableStackTrace&&console.groupCollapsed?
console.groupCollapsed(f):this._consoleOut(a.level,f);a.logger.enableStackTrace&&this._consoleOut(a.level,a.stackTrace.all);a.logger.enableStackTrace&&console.groupEnd&&console.groupEnd()},_consoleOut:function(a,f){var b=!1;a==m&&console.error?(console.error(f),b=!0):a==q&&console.warn?(console.warn(f),b=!0):a==v&&console.info?(console.info(f),b=!0):a==C&&console.debug&&(console.debug(f),b=!0);!b&&console.log&&console.log(f)},_getLogPrefix:function(a){return"["+a.levelString+"]"+a.date.getHours()+
":"+a.date.getMinutes()+":"+a.date.getSeconds()+","+a.date.getMilliseconds()+": "},_logObj:function(a){var f=a.args,b=this._getLogPrefix(a);f.unshift(b);a.level==m&&console.error?this._output(console.error,f):a.level==q&&console.warn?this._output(console.warn,f):a.level==v&&console.info?this._output(console.info,f):a.level==C&&console.debug?this._output(console.debug,f):this._output(console.log,f)},_output:function(a,f){a.apply?a.apply(console,f):a(f)}};b.prototype={enableStackTrace:!1,maxStackSize:10,
error:function(a){this._log(m,arguments,this.error)},warn:function(a){this._log(q,arguments,this.warn)},info:function(a){this._log(v,arguments,this.info)},debug:function(a){this._log(C,arguments,this.debug)},trace:function(a){this._log(u,arguments,this.trace)},_traceFunctionName:function(c){var f=Error(),b=f.stack||f.stacktrace,f=[],e={};if(b)var f=b.replace(/\r\n/,"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),
k=null,f=a.map(f,function(c){return k=0===c.length?null:""===a.trim(c)?"{anonymous}":a.trim(c)}),e=i(f.slice(3,f.length),f.slice(0,this.maxStackSize));else if(c=c.caller,b=0,c)for(;;){var o=g(c.arguments),B=l(c);B?f.push("{"+B+"}("+o+")"):c.caller?f.push("{anonymous}("+o+")"):f.push("{root}("+o+")");if(!c.caller||b>=this.maxStackSize){e=i(f,f);break}c=c.caller;b++}else i("{unable to trace}","{unable to trace}");return e},_log:function(a,f,b){var f={level:a,args:h.u.obj.argsToArray(f),stackTrace:this.enableStackTrace?
this._traceFunctionName(b):""},e=k.out,g=k.defaultOut,b=null;if(e)for(var e=L(e),o=0,B=e.length;o<B;o++){var i=e[o];if(i.compiledCategory.test(this.category)){b=i;break}}b||(b=g);o=b.compiledLevel;b=b.compiledTargets;if(!(a<o||0>o))if(f.logger=this,f.date=new Date,f.levelString=this._levelToString(a),b&&0!==b.length){o=0;for(B=b.length;o<B;o++)b[o].log(f)}},_levelToString:function(a){if(a===m)return"ERROR";if(a===q)return"WARN";if(a===v)return"INFO";if(a===C)return"DEBUG";if(a===u)return"TRACE"}};
h.u.obj.expose("h5.log",{createLogger:function(a){return new b(a)},configure:function(){function c(c,k,i){var h=null==i;if(!h){var l=k.category;(!y(l)||0===a.trim(l).length)&&e(F);l=a.trim(l);-1!==a.inArray(l,g)&&e(o,k.category);k.compiledCategory=ra(l);g.push(l)}l=null==k.level?B(h?b.level:i.level):y(k.level)?B(a.trim(k.level)):k.level;"number"!==typeof l&&e(t,k.level);k.compiledLevel=l;var l=[],m=k.targets;if(!h||null!=m){var q=[];null==m||a.isArray(m)||y(m)&&a.trim(m).length||e(N);for(var m=L(m),
r=0,x=m.length;r<x;r++){null==m[r]||y(m[r])&&a.trim(m[r]).length||e(N);var n=m[r];if(n){-1!==a.inArray(n,q)&&e(D,n);var d=c[n];d||e(P,n);q.push(n);l.push(d.compiledTarget)}}if(!h&&(c=i.targets,null!=c)){c=L(c);r=0;for(x=c.length;r<x;r++)n=c[r],-1===a.inArray(n,q)&&(l.push(i.compiledTargets[r]),q.push(n))}}k.compiledTargets=l}var b={level:"NONE",targets:null},g=[];k=a.extend(!0,{},h.settings.log?h.settings.log:{defaultOut:b});var i=k.target;i||(i={},k.target=i);(function(c){a.isPlainObject(c)||e(10009);
for(var b in c){var f=c[b];a.type(f.type)!=="object"&&f.type!=="console"&&e(1E4);var g=null,g=f.type==="console"?new r:a.extend(true,{},f.type);g.init&&g.init(f);f.compiledTarget=g}c.console={type:"console",compiledTarget:new r}})(i);var l=k.defaultOut;l||(l=b,k.defaultOut=l);c(i,l);var m=k.out;if(m)for(var m=L(m),q=0,u=m.length;q<u;q++)c(i,m[q],l)}})})();(function(){function e(m){h.settings.aspects=a.map(L(m),function(a){a.target&&(a.compiledTarget=ra(a.target));a.pointCut&&(a.compiledPointCut=ra(a.pointCut));
return a})}h.u.obj.ns("h5.settings");h.settings={commonFailHandler:null,aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(a){a=a.status;if("POST"===this.type||!(0===a||12029===a))return!1}}};var q=h.u.createInterceptor(function(a,e){e.start=new Date;return a.proceed()},function(a,e){this.log.info('{0} "{1}": {2}ms',this.__name,a.funcName,new Date-e.start)}),v=h.u.createInterceptor(function(a){this.log.info('{0} "{1}"が開始されました。',
this.__name,a.funcName);this.log.info(a.args);return a.proceed()},function(a){this.log.info('{0} "{1}"が終了しました。',this.__name,a.funcName)});h.u.obj.expose("h5.core.interceptor",{lapInterceptor:q,logInterceptor:v,errorInterceptor:function(e){var m=null;try{m=e.proceed()}catch(q){h.settings.commonFailHandler&&a.isFunction(h.settings.commonFailHandler)&&h.settings.commonFailHandler.call(null,q)}return m}});a(document).trigger("h5preinit");h.settings.aspects&&e(h.settings.aspects);h.log.configure()})();
(function(){h.u.obj.expose("h5.env",{ua:function(e){var h=!!e.match(/iPhone/i),v=!!e.match(/iPad/i),C=h||v,u=!!e.match(/android/i),w=!!e.match(/Windows Phone/i),G=!!e.match(/MSIE/),B=!!e.match(/Firefox/i),i=!!e.match(/Chrome/i)||!!e.match(/CrMo/)||!!e.match(/CriOS/),l=!u&&!!e.match(/Safari/i)&&!i,g=!!e.match(/Webkit/i),r=!!e.match(/Opera/i),b=u&&!!e.match(/Safari/i)&&!i,o=!(!h&&!w&&!(b&&e.match(/Mobile/)&&!e.match(/SC-01C/)||u&&i&&e.match(/Mobile/)||e.match(/Fennec/i)||e.match(/Opera Mobi/i))),t=
!(!v&&!(b&&!e.match(/Mobile/)||u&&i&&!e.match(/Mobile/)||e.match(/SC-01C/)||e.match(/Fennec/i)||e.match(/Opera Tablet/i))),P=!o&&!t,J=null,D=null,y=function(c,b){return a.trim(e.substring(e.indexOf(c)+c.length,e.indexOf(b))).split("_")},F=function(c,b){var f=a.trim(e.match(!1===b?RegExp(c+"[^;)]*"):RegExp(c+"[^;)]*","i"))).split(" ");return 1===f.length?"":f[f.length-1]},k=function(c,b){var f=a.trim(e.match(!1===b?RegExp(c+"[^;) ]*"):RegExp(c+"[^;) ]*","i"))).split("/");return 1===f.length?"":f[f.length-
1]};if(h)D=y("iPhone OS","like"),J=parseInt(D[0]),D=D.join(".");else if(v)D=y("CPU OS","like"),J=parseInt(D[0]),D=D.join(".");else if(!u||!B)u?(D=F("Android"),J=parseInt(D.split(".")[0])):w&&((D=F("Windows Phone OS"))||(D=F("Windows Phone")),J=parseInt(D.split(".")[0]));G&&r&&(G=!1);var c=y=null;if(C||u&&b)y=J,c=D;else{var f=null;G?f=F("MSIE",!1):i?(f=k("Chrome",!1))||(f=k("CrMo",!1)):l?f=k("Version"):B?f=k("Firefox"):r&&((f=k("Version"))||(f=k("Opera")),f||(f=F("Opera")));f&&(y=parseInt(f.split(".")[0]),
c=f)}return{osVersion:J,osVersionFull:D,browserVersion:y,browserVersionFull:c,isiPhone:h,isiPad:v,isiOS:C,isAndroid:u,isWindowsPhone:w,isIE:G,isFirefox:B,isChrome:i,isSafari:l,isOpera:r,isAndroidDefaultBrowser:b,isSmartPhone:o,isTablet:t,isDesktop:P,isWebkit:g}}(navigator.userAgent)})})();(function(){function m(a){function e(){l=!0;-1!==arguments.length&&(g=this,h=u(arguments));if((a.isRejected?a.isRejected():"rejected"===a.state())||(a.isResolved?a.isResolved():"resolved"===a.state()))return a;var o=
u(arguments);if(0<b.length)for(var i=0,q=b.length;i<q;i++){var m=o;m!==arguments&&(m=L(m));b[i].apply(this,m)}return a}var l=!1,g=null,h=null,b=[];a.progress=function(a){if(l){var e=h;e!==h&&(e=L(e));a.apply(g,e)}b.push(a);return this};a.notify=e;a.notifyWith=function(a,b){return e.apply(a,b)}}function q(e){if(!e)return!1;for(var e=L(e),i=0,l=e.length;i<l;i++)if(a.isFunction(e[i]))return!0;return!1}function v(e,i){function l(a){if(i)i[a]&&(e[a]=i[a]);else{var c=e[a];e[a]=function(){return function(){if(!b){var f=
u(arguments);if("then"===a||"pipe"===a)f=f[1];q(f)&&(b=!0)}return c.apply(this,arguments)}}(a)}}function g(a){return function(){var c=h.settings.commonFailHandler;!b&&c&&!o&&(e.fail.call(this,c),o=!0);return a.apply(this,arguments)}}var r=!!e.progress;!r&&!y(e)?m(e):i&&(e.progress=i.progress);for(var b=!1,o=!1,t=0,P=C.length;t<P;t++){var J=C[t];e[J]&&l(J)}if(e.pipe&&!i){var D=e.pipe;e.pipe=function(){var b=v(D.apply(this,arguments));if(r||!a.isFunction(arguments[2]))return b;var c=arguments[2],f=
w();b.progress=function(a){f.progress(a)};e.progress(function(){var b=c.apply(this,arguments);!b||!a.isFunction(b.promise)?f.notify.call(this,b):b.progress(function(){f.notify.apply(this,arguments)})});return b}}if(e.then&&!i){var N=e.then;e.then=function(){var a=arguments,c=N.apply(this,a);if(c!==this)return v(c);!r&&q(a[2])&&e.progress.call(e,a[2]);return c}}e.reject&&(e.reject=i&&i.reject?i.reject:g(e.reject));e.rejectWith&&(e.rejectWith=i&&i.rejectWith?i.rejectWith:g(e.rejectWith));if(e.promise)if(i&&
i.promise)e.promise=i.promise;else{var F=e.promise;e.promise=function(){return v(F.apply(this,arguments),e)}}return e}var C=["fail","always","pipe","then"],u=h.u.obj.argsToArray,w=function(){var e=a.Deferred();return v(e)},y=function(a){return!!a&&a.done&&a.fail&&!a.resolve&&!a.reject};h.u.obj.expose("h5.async",{deferred:w,when:function(){var e=h.async.deferred,i=u(arguments);1===i.length&&a.isArray(i[0])&&(i=i[0]);var l=a.Deferred();if(!l.notify&&!l.notifyWith&&!l.progress){var g=i.length,q=g,b=
[],o=i[0],l=1>=g&&o&&a.isFunction(o.promise)?o:e();if(1<g){for(var e=function(a){return function(b){i[a]=1<arguments.length?u(arguments):b;--q||l.resolveWith(l,i)}},o=function(a){return function(e){b[a]=1<arguments.length?u(arguments):e;l.notifyWith(l.promise(),b)}},t=0;t<g;t++)i[t]&&a.isFunction(i[t].promise)?i[t].promise().then(e(t),l.reject,o(t)):--q;q||l.resolveWith(l,i)}else l!==o&&l.resolveWith(l,g?[o]:[])}else l=e(),a.when.apply(a,i).done(function(){l.resolveWith(l,u(arguments))}).fail(function(){l.rejectWith(l,
u(arguments))}).progress(function(){l.notifyWith(l,u(arguments))});return l.promise()},isPromise:y,loop:function(h,i,l){a.isArray(h)||e(5E3);var g=w(),q="number"===a.type(l)?l:20,b=!1,o=0,t=h.length,m,u=null,v=function(){if(o===t)g.resolve(h);else if(b)g.reject(h);else{var a=i.call(h,o,h[o],u);o++;y(a)?a.done(function(){m()}).fail(function(){b=!0;m()}):m()}},C=function(){setTimeout(function(){var a=o-1;0<o&&g.notify({data:h,index:a,value:h[a]});v()},0)},F=!1;m=function(){F||(0===o%q?C():v())};var k=
!1,u={resume:function(){!k&&F&&(F=!1,m())},pause:function(){F=!0},stop:function(){k=!0;g.resolve(h)}};C();return g.promise()}})})();(function(){function e(a,h){for(var i=0,l=u.length;i<l;i++){var g=u[i];a[g]&&(h[w[g]](a[g]),a[g]=void 0)}}function q(e,h,i){for(var l in h)if(h.hasOwnProperty(l)&&(i||!a.isFunction(h[l]))&&-1===a.inArray(l,C))e[l]=h[l]}function v(a,e){q(this,a,!0);e.promise(this);var h=this.always;this.always=function(){h.apply(this,arguments);return this}}var C=["error","success","complete"],
u=["error","success","complete"],w={success:"done",error:"fail",complete:"always"};h.u.obj.expose("h5",{ajax:function(){function u(a,e,h){q(r,h);g.resolveWith(this,arguments)}function w(b,e,h){if(0===i.retryCount||!1===i.retryFilter.apply(this,arguments))q(r,b),g.rejectWith(this,arguments);else if(i.retryCount--,this.async){var l=this;setTimeout(function(){a.ajax(l).done(u).fail(w)},i.retryInterval)}else a.ajax(this).done(u).fail(w)}var i={},l=arguments;y(l[0])?(a.extend(i,l[1]),i.url=l[0]):a.extend(i,
l[0]);var i=a.extend({},h.settings.ajax,i),g=h.async.deferred();e(i,g);var l=a.ajax(i),r=new v(l,g);l.done(u).fail(w);return r}})})();(function(){function m(a,d,c,b,e){this.controller=a;this.event=d;this.evArg=c;this.selector=b;this.selectorType=e}function q(a){if(this.__controllerContext.executeListeners)return a.proceed()}function v(a,d,c){var b=C(a.__name,d);c&&b.push(q);return u(a[d],d,b)}function C(d,c){var b=[],e=h.settings.aspects;if(!e||0===e.length)return b;for(var e=L(e),p=e.length-1;-1<
p;p--){var f=e[p];if(!f.target||f.compiledTarget.test(d)){var n=f.interceptors;if(!f.pointCut||f.compiledPointCut.test(c))if(a.isArray(n))for(f=n.length-1;-1<f;f--)b=b.concat(n[f]);else b.push(n)}}return b}function u(a,d,c){for(var b=function(a,d,c){return function(){var b=this;return c.call(b,{target:b,func:a,funcName:d,args:arguments,proceed:function(){return a.apply(b,this.args)}})}},e=0,f=c.length;e<f;e++)a=b(a,d,c[e]);return a}function w(a){return!!a.match(/^\{.*\}$/)}function G(a){return!!a.match(/^\[.*\]$/)}
function B(d){return a.trim(d.substring(1,d.length-1))}function i(d){return a.trim(d.substring(1,d.length-1))}function l(a){for(var d=["window","document","navigator"],c=0,b=d.length;c<b;c++){var e=d[c];if(a===e||Ca(a,e+"."))return Da(a)}return a}function g(d){var c=function(d,b){for(var e in d)if(0<=a.inArray(d,b)||na(e,oa)&&c(d[e],b.concat([d])))return!0;return!1};return c(d,[])}function r(d){var c=function(d,b){for(var e in d)if(0<=a.inArray(d,b)||na(e,ca)&&c(d[e],b.concat([d])))return!0;return!1};
return c(d,[])}function b(d,c){var b=d[c];return na(c,oa)&&"rootController"!==c&&"parentController"!==c&&!a.isFunction(b)&&b&&!b.__controllerContext.isRoot}function o(d,c,e){var f=[],p=[],n=function(d){p.push(d);for(var Ga in d)if(b(d,Ga)){var s=d[Ga],z=e?s.__controllerContext[c]:s[c];z&&f.push(z);-1===a.inArray(s,p)&&n(s)}};n(d);return f}function t(a){var d=function(a){var c=a.__meta,e={};if(c)for(var f in c)!1===c[f].useHandlers&&(e[f]=1);for(f in a)c=a[f],b(a,f)&&(d(c),e[f]||P(c))};d(a)}function P(d){var c=
d.__controllerContext.bindMap,b;for(b in c)for(var e in c[b]){var f=d,p=b,n=e,s=f.__controllerContext.bindMap[p][n],z=n,ca=G(n);ca&&(z=i(n));var A=null;switch(z){case "mousewheel":A=V(f,p,z,s);break;case wa:case Ha:case pa:A=Y(f,p,n,s);break;default:A=T(f,p,z,s)}if(a.isArray(A)){f=0;for(p=A.length;f<p;f++)D(A[f],ca)}else D(A,ca)}}function J(d){var c=d.controller.rootElement,b=d.selector,e=d.eventName,f=d.handler,p=G(e),e=p?i(e):e;if(w(b)){var n=B(b),b=!1;n===Ia?b=!0:c=l(n);b||p||!y(c)?(d.evSelectorType=
xa.SELECTOR_TYPE_OBJECT,a(c).bind(e,f)):(d.evSelectorType=xa.SELECTOR_TYPE_GLOBAL,a(document).delegate(c,e,f));d.evSelector=c}else d.evSelectorType=xa.SELECTOR_TYPE_LOCAL,d.evSelector=b,p?a(b,c).bind(e,f):a(c).delegate(b,e,f)}function D(d,c){c&&(d.eventName="["+d.eventName+"]");var b=d.handler;d.handler=function(){var c=h.settings.listenerElementType===1?a(arguments[0].currentTarget):arguments[0].currentTarget;b.call(d.controller,X(d,arguments),c)};S(d.controller,d.selector,d.eventName,d.handler);
J(d)}function N(a){var d=function(a){var c=a.__meta,e={};if(c)for(var f in c)!1===c[f].useHandlers&&(e[f]=1);for(f in a)c=a[f],b(a,f)&&(d(c),e[f]||F(c))};d(a)}function F(d){var c=d.rootElement,d=d.__controllerContext.unbindMap,b;for(b in d)for(var e in d[b]){var f=d[b][e],p=G(e),n=p?i(e):e;if(w(b)){var s=B(b),z=!1;s===Ia?(s=c,z=!0):s=l(s);z||p||!y(s)?a(s).unbind(n,f):a(document).undelegate(s,n,f)}else p?a(b,c).unbind(n,f):a(c).undelegate(b,n,f)}}function k(d,c){d.__controllerContext.executeListeners=
c;var e=[],f=function(d){e.push(d);for(var p in d)if(b(d,p)){var n=d[p];n.__controllerContext.executeListeners=c;-1===a.inArray(n,e)&&f(n)}};f(d)}function c(d){var c=[],e=function(d,f,p){d.rootController=f;d.parentController=p;c.push(d);for(var n in d)b(d,n)&&(p=d[n],-1===a.inArray(p,c)&&e(p,f,d))};e(d,d,null)}function f(a,d){var c=d?"__init":"__ready",e=Z();setTimeout(function(){e.resolve()},0);var f=e.promise(),p=function(e){var n=!0,s;for(s in e)b(e,s)&&(n=!1,p(e[s]));var z=function(){var b=null;
if(e[c])try{b=e[c]({args:e.__controllerContext.args})}catch(f){throw a.rootController&&a.rootController.dispose(arguments),f;}var p=d?M(e):H(e);h.async.isPromise(b)?b.done(function(){p()}).fail(function(){a.rootController&&a.rootController.dispose(arguments)}):p()};s=d?j(e):o(e,"readyPromise");d&&n&&s.push(f);h.async.when(s).done(function(){z()}).fail(ya)};p(a)}function j(a){var d=o(a,"initPromise");d.push(a.preinitPromise);return d}function M(a){return function(){if(!I(a)){a.isInit=!0;var d=a.__controllerContext.initDfd;
delete a.__controllerContext.templatePromise;delete a.__controllerContext.preinitDfd;delete a.__controllerContext.initDfd;d.resolve();a.__controllerContext&&a.__controllerContext.isRoot&&x(a)}}}function H(d){return function(){if(!I(d)){d.isReady=!0;var c=d.__controllerContext.readyDfd;delete d.__controllerContext.readyDfd;c.resolve();d.__controllerContext&&d.__controllerContext.isRoot&&d.rootElement&&d.isInit&&d.isReady&&a(d.rootElement).trigger("h5controllerready",d)}}}function Q(d,c,b){if(!y(d))return a(d);
var f=a.trim(d);w(f)?(d=B(f),b&&(b=Ca(d,"window")?!1:Ca(d,"navigator")?!1:!0,b=!b),b&&e(Pa),b=a(l(d))):b=a(c).find(d);return b}function S(a,d,c,b){a.__controllerContext.unbindMap[d]||(a.__controllerContext.unbindMap[d]={});a.__controllerContext.unbindMap[d][c]=b}function T(a,d,c,b){return{controller:a,selector:d,eventName:c,handler:b}}function V(a,d,c,b){return{controller:a,selector:d,eventName:typeof document.onmousewheel===za?"DOMMouseScroll":c,handler:function(d){var c=d.event;c.originalEvent&&
c.originalEvent.detail&&(c.wheelDelta=40*-c.detail);b.call(a,d)}}}function Y(d,c,b,e){var f=typeof document.ontouchstart!==za;if(b!==wa)return f?T(d,c,b,e):T(d,c,b,function(d){var c=d.event,b=a(c.currentTarget).offset()||{left:0,top:0};c.offsetX=c.pageX-b.left;c.offsetY=c.pageY-b.top;e.apply(this,arguments)});var p=function(a,d){for(var c in a)a.hasOwnProperty(c)&&!d[c]&&"target"!==c&&"currentTarget"!==c&&"originalEvent"!==c&&"liveFired"!==c&&(d[c]=a[c]);d.h5DelegatingEvent=a},n=f?"touchstart":"mousedown",
s=f?"touchmove":"mousemove",z=f?"touchend":"mouseup",ca=a(document);return function(){var A=null,g=!1,I=function(c,b,e){return function(n){var x;a:{switch(c){case "touchstart":case "mousedown":x=wa;break a;case "touchmove":case "mousemove":x=Ha;break a;case "touchend":case "mouseup":x=pa;break a}x=void 0}var j=x===wa;if(!j||!g){f&&ha(n.event,c);var h=new a.Event(x);p(n.event,h);var k=n.event.target;b&&(k=b);e&&e(h);var o=n.event.originalEvent||n.event;j&&-1===a.inArray(o,ia)&&(ia=[],ka=[]);var i=
a.inArray(o,ia);-1===i&&(i=ia.push(o)-1,ka[i]=!1);if(!ka[i]&&(!f||g||j))ka[i]=!0,a(k).trigger(h,n.evArg),g=!0;if(n.event.currentTarget===document&&(x===pa&&(ia=[],ka=[]),-1!==a.inArray(o,ia)))ia.splice(i,1),ka.splice(i,1);if(j&&g){h.h5DelegatingEvent.preventDefault();x=h.target;var l=h.clientX,E=h.clientY,q=I(s,x,function(a){var d=a.clientX,c=a.clientY;a.dx=d-l;a.dy=c-E;l=d;E=c}),Oa=I(z,x),m=function(a){n.event=a;n.evArg=W(arguments);q(n)},da=function(a){n.event=a;n.evArg=W(arguments);Oa(n)},aa=f?
a(x):ca;A=function(){ia=[];ka=[];aa.unbind(s,m);aa.unbind(z,da);if(!f&&d.rootElement!==document){a(d.rootElement).unbind(s,m);a(d.rootElement).unbind(z,da)}};aa.bind(s,m);aa.bind(z,da);!f&&d.rootElement!==document&&(a(d.rootElement).bind(s,m),a(d.rootElement).bind(z,da))}else x===pa&&(A(),g=!1)}}},x=[T(d,c,b,e)];x.push({controller:d,selector:c,eventName:n,handler:I(n)});return x}()}function ha(d,c){var b=d.originalEvent;if(b){var e="touchend"===c||"touchcancel"===c?b.changedTouches[0]:b.touches[0],
f=e.pageX,p=e.pageY;d.pageX=b.pageX=f;d.pageY=b.pageY=p;d.screenX=b.screenX=e.screenX;d.screenY=b.screenY=e.screenY;d.clientX=b.clientX=e.clientX;d.clientY=b.clientY=e.clientY;e=d.target;if(e.ownerSVGElement)e=e.farthestViewportElement;else if(e===window||e===document)e=document.body;if(e=a(e).offset())p-=e.top,d.offsetX=b.offsetX=f-e.left,d.offsetY=b.offsetY=p}}function W(a){return 3>a.length?a[1]:Ea(a).slice(1)}function X(d,c){var b=null,e=null;c&&(b=c[0],e=W(c));var f=b;if(f&&null==f.offsetX&&
null==f.offsetY&&f.pageX&&f.pageY){var p=f.target;if(p.ownerSVGElement)p=p.farthestViewportElement;else if(p===window||p===document)p=document.body;if(p=a(p).offset())f.offsetX=f.pageX-p.left,f.offsetY=f.pageY-p.top}return new m(d.controller,b,e,d.evSelector,d.evSelectorType)}function R(a){for(var d in a){var c=a[d];b(a,d)&&(c.rootElement=null,c.view.__controller=null,R(c))}}function $(a){var d=a.rootElement,c=a.__meta,e;for(e in a){var f=a[e];b(a,e)&&(f.rootElement=c&&c[e]&&c[e].rootElement?O(c[e].rootElement,
d,f):d,f.view.__controller=f,$(f))}}function O(d,c,b){null==d&&e(Ja,[b.__name]);!y(d)&&"object"!==typeof d&&e(Ka,[b.__name]);d=c?Q(d,c):a(d);0===d.length&&e(La,[b.__name]);1<d.length&&e(Ma,[b.__name]);return d.get(0)}function x(d){P(d);t(d);var c=d.__controllerContext.managed,b=h.core.controllerManager.controllers;-1===a.inArray(d,b)&&!1!==c&&b.push(d);!1!==c&&a(d.rootElement).trigger("h5controllerbound",d);c=o(d,"initPromise");c.push(d.initPromise);h.async.when(c).done(function(){f(d,!1)}).fail(ya)}
function n(a){null===a.rootController&&c(a);$(a);f(a,!0)}function d(a,c){var e=Z();e.resolve();a.__controllerContext.templatePromise=e.promise();a.__controllerContext.initDfd=Z();a.initPromise=a.__controllerContext.initDfd.promise();a.__controllerContext.readyDfd=Z();a.readyPromise=a.__controllerContext.readyDfd.promise();a.isInit=!1;a.isReady=!1;a.__controllerContext.args=c;for(var f in a)b(a,f)&&d(a[f])}function p(d,c){var b=null,e=c;a.isPlainObject(e)?b=e.target:e={};b=b?Q(b,d.rootElement,!0):
d.rootElement;return h.ui.indicator.call(d,b,e)}function z(d,c){var e=[],f=[],p=function(d){var n=Z();f.push(d);for(var s in d)if(b(d,s)){var z=d[s];-1===a.inArray(z,f)&&p(z)}d[c]&&a.isFunction(d[c])&&(d=d[c](),h.async.isPromise(d)&&(d.always(function(){n.resolve()}),e.push(n.promise())))};p(d);return e}function A(d){var c=[],e=function(d){c.push(d);d.view.__view&&d.view.clear();for(var f in d)if(d.hasOwnProperty(f)){if(b(d,f)){var p=d[f];-1===a.inArray(p,c)&&e(p)}d[f]=null}};e(d)}function s(a,d){return d.view.__view.isAvailable(a)?
d.view.__view:d.parentController?s(a,d.parentController):h.core.view}function I(a){return!a.__controllerContext||a.__controllerContext.isDisposing}function aa(a,d){function c(a,b){var f=a.__controllerContext[p[b]];f&&!(f.isRejected?f.isRejected():"rejected"===f.state())&&!(f.isResolved?f.isResolved():"resolved"===f.state())&&f.reject(d);if(a.parentController)c(a.parentController,b);else if(b<p.length-1)for(var f=0,n=e.length;f<n;f++)c(e[f],b+1)}var e=[],f=function(a){var d=!1,c;for(c in a)b(a,c)&&
(d=!0,f(a[c]));d||e.push(a)};f(a);for(var p=["initDfd","readyDfd"],n=0,s=e.length;n<s;n++)c(e[n],0)}function E(a,d){for(var c=a.childNodes,b=0,e=c.length;b<e;b++){var f=c[b];if(1===f.nodeType){if(f=E(f,d))return f}else if(8===f.nodeType){var p=f.nodeValue;if(0===p.indexOf(Qa)){var n=p.indexOf("}");if(-1!==n&&(p=p.slice(0,n).match(/id="([A-Za-z][\w-:\.]*)"/))&&p[1]===d)return f}}}return null}function da(a){var d=this;return function(){a.apply(d,arguments)}}function ea(a){var d=this;return function(){var c=
h.u.obj.argsToArray(arguments);c.unshift(this);a.apply(d,c)}}function la(a){this.__controller=a;Da("h5.core.view")&&(this.__view=h.core.view.createView())}function U(a,d,c,b){this.__name=d;this.__templates=null;this.rootElement=a;this.__controllerContext={executeListeners:!0,isRoot:b,bindMap:{},unbindMap:{}};this.__controllerContext.args=c?c:null;this.isReady=this.isInit=!1;this.readyPromise=this.initPromise=this.preinitPromise=this.parentController=this.rootController=null;this.log=h.log.createLogger(d);
this.view=new la(this)}function Aa(){this.rootElement=document;this.controllers=[];a(document).bind(Na,function(a,d){null==d.target&&(d.target=document);d.indicator=p(this,d);a.stopPropagation()})}function sa(d,c,b,f){var p=!f||!f.isInternal,s=c.__name;(!y(s)||0===a.trim(s).length)&&e(Ra,null,{controllerDefObj:c});b&&!a.isPlainObject(b)&&e(Sa,[s],{controllerDefObj:c});c.__controllerContext&&e(Ta,null,{controllerDefObj:c});if(p||d)if(null==d)e(Ja,[s],{controllerDefObj:c});else if(y(d)||"object"===
typeof d){var z=a(d);0===z.length&&e(La,[s],{controllerDefObj:c});1<z.length&&e(Ma,[s],{controllerDefObj:c})}else e(Ka,[s],{controllerDefObj:c});g(c)&&e(Ua,[s],{controllerDefObj:c});r(c)&&e(Va,[s],{controllerDefObj:c});var z=a.extend(!0,{},c),A=new U(d?a(d).get(0):null,s,b,p),x=c.__templates,j=Z(),d=j.promise(),k=Z(),o=k.promise();A.__controllerContext.preinitDfd=k;A.preinitPromise=o;A.__controllerContext.initDfd=Z();A.initPromise=A.__controllerContext.initDfd.promise().fail(ya);A.__controllerContext.readyDfd=
Z();A.readyPromise=A.__controllerContext.readyDfd.promise();p||A.readyPromise.fail(ya);if(x&&0<x.length){var l=function(a){Da("h5.core.view")||e(va);A.view.load(x).then(function(){j.resolve()},function(d){var b=d.detail.error,b=b?b.status:null;a===h.settings.dynamicLoading.retryCount||0!==b&&12029!==b?(d.controllerDefObject=c,setTimeout(function(){j.reject(d)},0)):setTimeout(function(){l(++a)},h.settings.dynamicLoading.retryInterval)})};l(0)}else j.resolve();d.done(function(){I(A)||k.resolve()}).fail(function(a){k.reject(a);
A.rootController&&I(A.rootController);A.rootController&&A.rootController.dispose(a)});for(var E in z)if(Fa[E])e(Wa,[s,E],{controllerDefObj:c});else if(("__ready"===E||"__construct"===E||"__init"===E)&&a.isFunction(z[E]))A[E]=v(z,E);else if(-1!==E.indexOf(" ")&&a.isFunction(z[E])){d=a.trim(E);o=d.lastIndexOf(" ");p=a.trim(d.substring(0,o));d=a.trim(d.substring(o+1,d.length));G(d)&&(d="["+a.trim(i(d))+"]");w(p)&&"this"===B(p)&&e(ba,[s],{controllerDefObj:c});o=A.__controllerContext.bindMap;o[p]||(o[p]=
{});o[p][d]&&e(ga,[s,p,d],{controllerDefObj:c});var q=v(z,E,!0);o[p][d]=q;A[E]=q}else na(E,oa)&&z[E]&&!a.isFunction(z[E])?(p=sa(null,a.extend(!0,{},z[E]),b,a.extend({isInternal:!0},f)),A[E]=p):na(E,ca)&&z[E]&&!a.isFunction(z[E])?(p=ta(z[E]),A[E]=p):A[E]=a.isFunction(z[E])?v(z,E):z[E];if(b=A.__meta)for(E in b)p=A[E],void 0===p&&e(ja,[s,E],{controllerDefObj:c}),null===p&&e(qa,[s,E],{controllerDefObj:c}),U.prototype.constructor!==p.constructor&&e(Xa,[s,E],{controllerDefObj:c});A.__construct&&A.__construct({args:A.__controllerContext.args});
if(I(A))return null;f&&"managed"in f&&(A.__controllerContext.managed=f.managed);A.__controllerContext.isRoot&&n(A);return A}function ta(d){var c=d.__name;(!y(c)||0===a.trim(c).length)&&e(ra,null,{logicDefObj:d});d.__logicContext&&e(ua,null,{logicDefObj:d});var d=a.extend(!0,{},d),b;for(b in d)d[b]=a.isFunction(d[b])?u(d[b],b,C(d.__name,b)):d[b];d.deferred=Z;d.log=h.log.createLogger(c);d.__logicContext={};d.own=da;d.ownWithOrg=ea;for(var f in d)d.hasOwnProperty(f)&&na(f,ca)&&(d[f]=ta(d[f]));return d}
var za="undefined",oa="Controller",ca="Logic",wa="h5trackstart",Ha="h5trackmove",pa="h5trackend",Ia="rootElement",Na="triggerIndicator",Qa="{h5view ",Pa=6E3,Ja=6001,La=6003,Ma=6004,Ra=6006,Sa=6007,Ta=6008,Ua=6009,Va=6010,Wa=6011,ba=6012,ga=6013,ja=6014,qa=6015,Xa=6016,ra=6017,ua=6018,va=6029,Ka=6030,ya=function(){},Z=h.async.deferred,Ca=h.u.str.startsWith,na=h.u.str.endsWith,Ba=h.u.str.format,Ea=h.u.obj.argsToArray,Da=h.u.obj.getByPath,xa={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},
ia=[],ka=[];a.extend(m.prototype,xa);a.extend(la.prototype,{get:function(a,d){return s(a,this.__controller).get(a,d)},update:function(a,d,c){a=Q(a,this.__controller.rootElement,!0);s(d,this.__controller).update(a,d,c)},append:function(a,d,c){a=Q(a,this.__controller.rootElement,!0);s(d,this.__controller).append(a,d,c)},prepend:function(a,d,c){a=Q(a,this.__controller.rootElement,!0);s(d,this.__controller).prepend(a,d,c)},load:function(a){return this.__view.load(a)},register:function(a,d){this.__view.register(a,
d)},isValid:function(a){return this.__view.isValid(a)},isAvailable:function(a){return s(a,this.__controller).isAvailable(a)},clear:function(a){this.__view.clear(a)},bind:function(d,c){var b=d;if(y(d)&&0===d.indexOf("h5view#")){for(var f=E(this.__controller.rootElement,d.slice(7)),b=f.nodeValue,b=b.slice(b.indexOf("}")+1),e=a("<div>").append(b),b=[],p=e[0].childNodes,n=0,s=p.length;n<s;n++)b.push(p[n]);e.empty();e=document.createDocumentFragment();n=0;for(s=b.length;n<s;n++)e.appendChild(b[n]);f.parentNode.insertBefore(e,
f.nextSibling)}return this.__view.bind(b,c)}});a.extend(U.prototype,{$find:function(d){return a(this.rootElement).find(d)},deferred:function(){return Z()},trigger:function(d,c){a(this.rootElement).trigger(d,c)},own:da,ownWithOrg:ea,bind:function(a,c){this.__controllerContext.isRoot||e(6031);this.rootElement=O(a,null,this);this.view.__controller=this;d(this,c?c:null);n(this);return this},unbind:function(){this.__controllerContext.isRoot||e(6031);z(this,"__unbind");F(this);N(this);this.__controllerContext.unbindMap=
{};var d=this;h.core.controllerManager.controllers=a.grep(h.core.controllerManager.controllers,function(a){return a!==d});a(this.rootElement).trigger("h5controllerunbound",this);this.rootElement=null;this.view.__controller=null;R(this)},dispose:function(a){if(!I(this)){aa(this,a);this.__controllerContext.isDisposing=1;var d=this.deferred();this.unbind();var c=this,a=z(this,"__dispose");h.async.when(a).done(function(){A(c);d.resolve()});return d.promise()}},triggerIndicator:function(d){var c={indicator:null};
d&&a.extend(c,d);a(this.rootElement).trigger(Na,[c]);return c.indicator},indicator:function(a){return p(this,a)},enableListeners:function(){k(this,!0)},disableListeners:function(){k(this,!1)},throwError:function(a,d){var c=Ea(arguments);c.unshift(null);this.throwCustomError.apply(null,c)},throwCustomError:function(a,d,c){2>arguments.length&&e(6005);var b=null;d&&y(d)?b=Error(Ba.apply(null,Ea(arguments).slice(1))):(b=Error(),b.detail=d);b.customType=a;throw b;}});a.extend(Aa.prototype,{getAllControllers:function(){return this.controllers},
getControllers:function(d,c){for(var b=c&&c.deep,f=c&&c.name?L(c.name):null,e=a(d)[0],p=this.controllers,n=[],s=0,z=p.length;s<z;s++){var A=p[s];f&&-1===a.inArray(A.__name,f)||(e===A.rootElement?n.push(A):b&&a.contains(e,A.rootElement)&&n.push(A))}return n}});h.u.obj.expose("h5.core",{controllerManager:new Aa});var Fa={},ma=new U(null,"a"),fa;for(fa in ma)ma.hasOwnProperty(fa)&&"__name"!==fa&&"__templates"!==fa&&"__meta"!==fa&&(Fa[fa]=1);ma=null;ma=U.prototype;for(fa in ma)ma.hasOwnProperty(fa)&&
(Fa[fa]=1);ma=null;K.controllerInternal=sa;h.u.obj.expose("h5.core",{controller:function(a,d,c){2>arguments.length&&e(6032);return sa(a,d,c)},logic:ta,expose:function(a){var d=a.__name;d||e(6019,null,{target:a});var c=d.lastIndexOf(".");if(-1===c)window[d]=a;else{var b=d.substr(0,c),d=d.substr(c+1,d.length),c={};c[d]=a;h.u.obj.expose(b,c)}}})})();(function(){function m(a){return!a?!1:-1!==a.indexOf("[]")}function q(){var a=arguments[0];if(!K.data.DESCRIPTOR_VALIDATION_ERROR_MSGS)return{code:a}}function v(d,
c,b,f,p){function n(c){for(var c=L(d.schema[c].depend.on),b=0,f=c.length;b<f;b++)if(-1===a.inArray(c[b],d._realProperty)&&-1!==a.inArray(c[b],z))return!1;return!0}function s(d,c){for(var b=0,f=c.length;b<f;b++){var e=A[c[b]];if(e)for(var p=0,n=e.length;p<n;p++){var z=e[p];-1===a.inArray(z,d)&&d.push(z)}}}var z=[],A=d._dependencyMap,g={};for(p?z=d._dependProps.slice():s(z,L(f));0!==z.length;){for(var f=[],p=0,x=z.length;p<x;p++){var I=z[p];if(n(I)){var E=d.schema[I].depend.calc.call(c,b);0!==d._itemValueCheckFuncs[I](E,
!0).length&&e(j,[I,E]);g[I]={oldValue:c._values[I],newValue:E};if(d.schema[I]&&m(d.schema[I].type)){var h=c._internal||c;E?(c._values[I].copyFrom(E),h._nullProps[I]=!1):(c._values[I].copyFrom([]),h._nullProps[I]=!0)}else c._values[I]=E}else f.push(I)}s(f,z);z=f}return g}function C(a){return(a=a.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/))?{elmType:a[1],dataModel:a[2],dimension:a[3]?1:0}:{}}function u(d,c){return function pa(d,b){if(!c[d])return!1;for(var f=0,e=c[d].length;f<
e;f++)if(-1<a.inArray(c[d][f],b)||pa(c[d][f],b.concat([d])))return!0;return!1}(d,[])}function w(a){return"number"===typeof a&&isNaN(a)}function G(a,d){return w(a)&&w(d)}function B(a,d){return null==a||w(a)||"number"===typeof a||!d&&(a instanceof Number||!(!(y(a)||a instanceof String)||!a.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function i(a,d){return null==a||"number"===typeof a&&parseInt(a)===a||!d&&(a instanceof Number&&parseInt(a)===parseFloat(a)||("string"===typeof a||a instanceof String)&&
!!a.match(/^[+\-]{0,1}[0-9]+$/))}function l(a,d){return!!(null==a||y(a)||!d&&a instanceof String)}function g(c,b,f,e){var g=[];if(!e){var I=!1,j;for(j in c)if(c[j]&&!0===c[j].id){if(I&&(g.push(q(M)),f))return g;I=!0}if(!I&&(g.push(q(H)),f))return g}var I={},h;for(h in c){var o=null==c[h]?{}:c[h],k=!!o.id;if(!ja(h)&&(g.push(q(Q,h)),f))return g;var l=o.depend;if(null!=l){if(k&&(g.push(q(S,h)),f)||o.hasOwnProperty("defaultValue")&&(g.push(q(E,h)),f))return g;if(null==l.on){if(g.push(q(T,h)),f)return g}else for(var m=
L(l.on),t=0,r=m.length;t<r;t++)if(!c.hasOwnProperty(m[t])){g.push(q(T,h));if(f)return g;break}if("function"!==typeof l.calc&&(g.push(q(V,h)),f))return g;I[h]=L(l.on)}m=o.type;k&&null==m&&(m="string");l={};if(null!=m)if(y(m))if(k&&"string"!==m&&"integer"!==m&&g.push("id指定されたプロパティにtypeを指定することはできません"),l=C(m),l.elmType){if(l.dataModel&&(e&&(g.push(q(ha,h,l.dataModel)),f)||!b.models[l.dataModel]&&(g.push(q(W,h,l.dataModel)),f))||"enum"===l.elmType&&null==o.enumValue&&(g.push(q(X,h)),f))return g}else{if(g.push(q(ha,
h,m)),f)return g}else if(g.push(q(Y,h)),f)return g;m=o.constraint;if(null!=m)if(a.isPlainObject(m)){for(j in m)if(t=m[j],null!=t)switch(j){case "notNull":if(!0!==t&&!1!==t){if(g.push(q($,h,j)),f)return g}else if(k&&!t&&(g.push(q(aa,h,j,t)),f))return g;break;case "min":case "max":switch(l.elmType){case "integer":if(y(t)||!i(t)||w(t))if(g.push(q(O,h,j)),f)return g;break;case "number":if(y(t)||y(t)||!B(t)||Infinity===t||-Infinity===t||w(t))if(g.push(q(O,h,j)),f)return g;break;default:if(g.push(q(x,h,
j,l.elmType)),f)return g}break;case "minLength":case "maxLength":switch(l.elmType){case "string":if(y(t)||!i(t)||w(t)||0>t){if(g.push(q(d,h,j)),f)return g}else if(k&&"maxLength"===j&&0===t&&(g.push(q(aa,h,j,t)),f))return g;break;default:if(g.push(q(x,h,j,l.elmType)),f)return g}break;case "notEmpty":switch(l.elmType){case "string":if(!0!==t&&!1!==t){if(g.push(q($,h,j)),f)return g}else if(k&&!t&&(g.push(q(aa,h,j,t)),f))return g;break;default:if(g.push(q(x,h,j,l.elmType)),f)return g}break;case "pattern":switch(l.elmType){case "string":if("regexp"!==
a.type(t)&&(g.push(q(n,h,j)),f))return g;break;default:if(g.push(q(x,h,j,l.elmType)),f)return g}}if(m.notEmpty&&0===m.maxLength&&(g.push(q(p,h,"notEmpty","maxLength")),f)||null!=m.min&&null!=m.max&&m.min>m.max&&(g.push(q(p,h,"min","max")),f)||null!=m.minLength&&null!=m.maxLength&&m.minLength>m.maxLength&&(g.push(q(p,h,"minLength","maxLength")),f))return g}else if(g.push(q(R,h)),f)return g;m=o.enumValue;if(null!=m){if("enum"!==l.elmType&&(g.push(q(z,h)),f))return g;if(!a.isArray(m)||0===m.length||
-1<a.inArray(null,m)||-1<a.inArray(void 0,m))if(g.push(q(A,h)),f)return g}if(k&&o.hasOwnProperty("defaultValue")&&(g.push(q(s,h)),f))return g}for(var ea in I)if(u(ea,I)&&(g.push(q(da,j)),f))break;return g}function r(a,d,c){var b=[],f;for(f in a){var e=a[f];if(e&&(e.hasOwnProperty("defaultValue")||!e.type||!("array"===e.type||C(e.type).dimension))&&e.hasOwnProperty("defaultValue"))if(e=e.defaultValue,d[f](e).length&&(b.push(q(I,f,e)),c))break}return b}function b(a,d){var c={},b;for(b in a){var f=c,
e=b,p;p=d;var n=a[b]||{},s=[],z=null,g=0,z=n.type,A=n.constraint;n.id&&(z=z||"string",A=A||{},A.notNull=!0,"string"===z&&(A.notEmpty=!0));z&&(g=C(z),z=g.elmType,g=g.dimension,s.push(t(z,{manager:p,enumValue:n.enumValue})));n.constraint&&s.push(o(n.constraint));p=P({checkFuncs:s,dimension:g});f[e]=p}return c}function o(a){return function(d){var c=[];a.notNull&&null==d&&c.push({notNull:a.notNull});a.notEmpty&&!d&&c.push({notEmpty:a.notEmpty});if(null==d)return c;null!=a.min&&d<a.min&&c.push({min:a.min});
null!=a.max&&a.max<d&&c.push({max:a.max});null!=a.minLength&&d.length<a.minLength&&c.push({minLength:a.minLength});null!=a.maxLength&&a.maxLength<d.length&&c.push({maxLength:a.maxLength});null!=a.pattern&&!d.match(a.pattern)&&c.push({pattern:a.pattern});return c}}function t(d,c){var b=[{type:d}];switch(d){case "number":return function(a,d){return B(a,d)?[]:b};case "integer":return function(a,d){return i(a,d)?[]:b};case "string":return function(a,d){return l(a,d)?[]:b};case "boolean":return function(a,
d){return null==a||"boolean"===typeof a||!d&&a instanceof Boolean?[]:b};case "enum":return function(d){var f;a:if(f=c.enumValue,w(d)){for(var d=0,e=f.length;d<e;d++)if(w(f[d])){f=!0;break a}f=!1}else f=null===d||-1<a.inArray(d,f);return f?[]:b};case "any":return function(){return[]}}var f=d.match(/^@(.+?)$/)[1],e=c.manager;return function(a){var d=e.models[f];return!d||"object"!==typeof a&&null!=a?b:null==a||d.has(a)?[]:b}}function P(d){var c=d.checkFuncs;if(!c||0===c.length)return function(){return[]};
var b=d.dimension||0;return function(d,f){function e(d,n){if(!n){for(var s=0,z=c.length;s<z;s++){var g=c[s](d,f);if(g.length)return p=p.concat(g),!1}return!0}if(null==d)return!0;if(!a.isArray(d)&&!h.core.data.isObservableArray(d))return p.push({dimension:b}),!1;s=0;for(z=d.length;s<z;s++)if(!e(d[s],n-1))return!1;return!0}var p=[];e(d,b);return p}}function J(d){var c={},b;for(b in d)if(d.hasOwnProperty(b)){var f=d[b]?d[b].depend:null;if(f)for(var f=L(f.on),e=0,p=f.length;e<p;e++){var n=f[e];c[n]||
(c[n]=[]);-1===a.inArray(b,c[n])&&c[n].push(b)}}return c}function D(){}function N(){this.length=0;this._src=[]}function F(){return new N}function k(a){return a&&a.constructor===N?!0:!1}function c(d,c){var b=[],p=[],n=[],s;for(s in d)d[s]&&d[s].depend?p.push(s):b.push(s),d[s]&&d[s].type&&-1!==d[s].type.indexOf("[]")&&n.push(s);this._internal={schema:d,_dependencyMap:J(d),dependProps:p,realProps:b,aryProps:n,_itemValueCheckFuncs:c,_nullProps:{}};this._values={};var z=[],g={props:{},target:this,type:"create"};
for(s in d)if(-1!==a.inArray(s,n)){if(this._values[s]=F(),this._internal._nullProps[s]=!0,d[s].hasOwnProperty("defaultValue")&&null!=d[s].defaultValue&&(this._values[s].copyFrom(d[s].defaultValue),this._internal._nullProps[s]=!1),-1!==a.inArray(s,b))z.push(s),g.props[s]={newValue:this._values[s],oldValue:void 0}}else if(-1===a.inArray(s,p))if(z.push(s),d[s]&&d[s].hasOwnProperty("defaultValue")){var A=d[s].defaultValue;this._values[s]=A;g.props[s]={newValue:A,oldValue:void 0}}else-1!==a.inArray(s,
b)?(A=null,this._values[s]=A,g.props[s]={newValue:A,oldValue:void 0}):this._values[s]=void 0;v(this._internal,this,g,z);for(var I=["sort","reverse","pop","shift"],j=this,b=0,p=n.length;b<p;b++)s=n[b],function(d,b){var p;b.addEventListener("changeBefore",function(b){if(!j._internal.isInSet){var n=h.u.obj.argsToArray(b.args);if(-1===a.inArray(b.method,I)){var s=!0;switch(b.method){case "splice":s=!1;n.shift();n.shift();break;case "copyFrom":n=n[0];break;case "set":n.shift()}s&&(b=c[d](n),0<b.length&&
e(f,d,b))}p=j._values[d].slice(0)}});b.addEventListener("change",function(){j._internal.isInSet||b.equals(p)||j.dispatchEvent({type:"change",target:j,props:{oldValue:p,newValue:b}})})}(s,this._values[s])}var f=15102,j=15107,M=15800,H=15801,Q=15802,S=15803,T=15804,V=15805,Y=15806,ha=15807,W=15808,X=15809,R=15810,$=15811,O=15812,x=15813,n=15814,d=15815,p=15816,z=15817,A=15818,s=15819,I=15820,aa=15821,E=15822,da=15823;D.prototype.hasEventListener=function(a,d){if(!this.__listeners)return!1;var c=this.__listeners[a];
if(!c||!this.__listeners.hasOwnProperty(a))return!1;for(var b=0,f=c.length;b<f;b++)if(c[b]===d)return!0;return!1};D.prototype.addEventListener=function(d,c){(2!==arguments.length||!y(d)||!a.isFunction(c))&&e(15106);this.hasEventListener(d,c)||(this.__listeners||(this.__listeners={}),this.__listeners.hasOwnProperty(d)||(this.__listeners[d]=[]),this.__listeners[d].push(c))};D.prototype.removeEventListener=function(a,d){if(this.hasEventListener(a,d))for(var c=this.__listeners[a],b=0,f=c.length;b<f;b++)if(c[b]===
d){c.splice(b,1);break}};D.prototype.dispatchEvent=function(a){if(this.__listeners){var d=this.__listeners[a.type];if(d){a.target||(a.target=this);var c=!1;a.preventDefault=function(){c=true};for(var b=0,f=d.length;b<f;b++)d[b].call(a.target,a);return c}}};a.extend(N.prototype,D.prototype);var ea={equals:function(d){var c=this.length;if(!a.isArray(d)&&!k(d)||d.length!==c)return!1;for(var d=k(d)?d._src:d,b=0;b<c;b++){var f=this[b],e=d[b];if(!(f===e||G(f,e)))return!1}return!0},copyFrom:function(d){d||
(d=[]);d=k(d)?d._src:d;a.isArray(d)||e(15108,[0,d]);d=d.slice(0);d.unshift(0,this.length);Array.prototype.splice.apply(this,d)},get:function(a){return this[a]},set:function(a,d){this[a]=d},toArray:function(){return this.slice(0)},concat:function(){for(var a=h.u.obj.argsToArray(arguments),d=0,c=a.length;d<c;d++)k(a[d])&&(a[d]=a[d].toArray());return this.concat.apply(this,a)}},la="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),
U;for(U in ea)ea.hasOwnProperty(U)&&-1===a.inArray(U,la)&&la.push(U);var Aa=["concat","slice","splice","filter","map"],sa=["reverse","sort"],ta="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");U=0;for(var za=la.length;U<za;U++){var oa=la[U];N.prototype[oa]=function(d){function c(){var f=b.apply(this._src,arguments);if(-1!==a.inArray(d,sa))f=this;else if(-1!==a.inArray(d,Aa)){var e=F();e.copyFrom(f);f=e}return f}var b=ea[d]?ea[d]:Array.prototype[d];return-1===a.inArray(d,ta)?c:
function(){if(!this.dispatchEvent({type:"changeBefore",method:d,args:arguments})){var a=c.apply(this,arguments);this.length=this._src.length;this.dispatchEvent({type:"change",method:d,args:arguments,returnValue:a});return a}}}(oa)}a.extend(c.prototype,D.prototype,{set:function(){var d={};2===arguments.length?d[arguments[0]]=arguments[1]:d=arguments[0];this._internal.isInSet=!0;var c={},b;for(b in d){-1===a.inArray(b,this._internal.realProps)&&(-1!==a.inArray(b,this._internal.dependProps)&&e(15103,
b),e(15104,b));var p=d[b];-1!==a.inArray(b,this._internal.aryProps)&&(null==p?(p=[],this._internal._nullProps[b]=!0):this._internal._nullProps[b]=!1);p=this._internal._itemValueCheckFuncs[b](p);p.length&&e(f,b,p)}p=[];for(b in d){var n=d[b],s=this._values[b];if(-1!==a.inArray(b,this._internal.aryProps)){if(this._values[b].equals(n))continue;s=s.slice(0);this._values[b].copyFrom(n)}else{if(n===this._values[b]||G(n,this._values[b]))continue;this._values[b]=n}c[b]={oldValue:s,newValue:this._values[b]};
p.push(b)}this._internal.isInSet=!1;0!=p.length&&(d={target:this,type:"change",props:c},v(this._internal,this,d,p),this.dispatchEvent(d))},get:function(d){if(0===arguments.length)return a.extend({},this._values);-1===a.inArray(d,this._internal.realProps)&&-1===a.inArray(d,this._internal.dependProps)&&e(15105,d);return this._values[d]},regardAsNull:function(a){return this._isArrayProp(a)?!0===this._internal._nullProps[a]:null===this.get(a)},_isArrayProp:function(d){return-1!==a.inArray(d,this._internal.aryProps)?
!0:!1}});h.u.obj.expose("h5.core.data",{createObservableArray:F,createObservableItem:function(a){"object"!==typeof a&&e(15100);var d=g(a,null,!0,!0);0<d.length&&e(15101,null,d);var d=b(a),f=r(a,d,!0);0<f.length&&e(15101,null,f);return new c(a,d)},isObservableArray:k,isObservableItem:function(a){return a instanceof c?!0:!1}});K.data={validateSchema:g,validateDefaultValue:r,createCheckValueByDescriptor:b,createItemDescErrorReason:q,createDependencyMap:J,isIntegerValue:i,isNumberValue:B,isStringValue:l,
isStrictNaN:w,isBothStrictNaN:G,unbox:function(d){if(a.isArray(d)){for(var d=d.slice(0),c=0,b=d.length;c<b;c++)d[c]=d[c]&&"object"===typeof d[c]?d[c]&&d[c].valueOf&&d[c].valueOf():d[c];return d}return d&&"object"===typeof d&&d.valueOf?d.valueOf():d},EventDispatcher:D,calcDependencies:v,getValue:function(a,d){return a._values[d]},setValue:function(a,d,c){a._values[d]=c},isTypeArray:m,ITEM_ERRORS:{ERR_CODE_INVALID_ITEM_VALUE:f,ERR_CODE_DEPEND_PROPERTY:15103,ERR_CODE_CANNOT_GET_NOT_DEFINED_PROPERTY:15105,
ERR_CODE_CANNOT_SET_NOT_DEFINED_PROPERTY:15104},ERR_CODE_INVALID_SCHEMA:15101}})();(function(){function m(d,b,f){var e=[];if(!a.isPlainObject(d))return e.push(S(J)),e;if(!ja(d.name)&&(e.push(S(D)),f))return e;var n=d.base,g=null;if(null!=n)if(!y(n)||0!==n.indexOf("@")){if(e.push(S(N)),f)return e}else if(n=n.substring(1),b.models[n])g=b.models[n].schema;else if(e.push(S(F,n)),f)return e;d=d.schema;if(!g&&null==d&&(e.push(S(k)),f))return e;if(!g&&!a.isPlainObject(d))return e.push(S(c)),e;d=a.extend({},
g,d);return e.concat(M(d,b,f))}function q(d,c,b,f,s,g){var j=[],x;for(x in b)if(x in d.schema||e(n.ERR_CODE_CANNOT_SET_NOT_DEFINED_PROPERTY,[d.name,x]),!(s&&-1!==a.inArray(x,s))){var l=R(c,x),o=b[x];if(d.schema[x]&&d.schema[x].depend){if(l===o)continue;e(n.ERR_CODE_DEPEND_PROPERTY,x)}var k=d.schema[x]&&d.schema[x].type;O(k)&&(null==o?(o=[],c._nullProps[x]=!0):c._nullProps[x]=!1);k&&k.match(/string|number|integer|boolean/)&&(o=ha(o));if(-1===a.inArray(x,f)){var m=d._validateItemValue(x,o);0<m.length&&
e(n.ERR_CODE_INVALID_ITEM_VALUE,x,m)}if(null!=o&&k&&k.match(/number|integer/)&&"number"!==typeof o)if(a.isArray(o)||h.core.data.isObservableArray(o))for(var m=0,i=o.length;m<i;m++)null!=o[m]&&Y(o[m])&&(o[m]=parseFloat(o[m]));else null!=o&&(o=parseFloat(o));if((!O(k)||!l||!l.equals(o,l))&&l!==o)k&&-1!==k.indexOf("[]")&&h.core.data.isObservableArray(l)&&(l=l.slice(0)),j.push({p:x,o:l,n:o})}if(j.length){b={};f=[];m=0;for(s=j.length;m<s;m++)x=j[m],d.schema[x.p]&&O(d.schema[x.p].type)?x.n&&R(c,x.p).copyFrom(x.n):
$(c,x.p,x.n),b[x.p]={oldValue:x.o,newValue:c.get(x.p)},f.push(x.p);j={type:!0===g?"create":"change",target:c,props:b};d=X(d,c,j,f,g);a.extend(b,d);return j}}function v(d){function c(d,b,f,p){var g=!1,z=["sort","reverse","pop","shift"];p.addEventListener("changeBefore",function(c){(b._model!==d||!d._manager)&&e(P,[b._values[d.idKey],c.method]);var p=j(c.args);if(-1===a.inArray(c.method,z)){var A=!0;switch(c.method){case "splice":A=!1;p.shift();p.shift();break;case "copyFrom":p=p[0];break;case "set":p.shift()}A&&
(c=d._validateItemValue(f,p),0<c.length&&e(n.ERR_CODE_INVALID_ITEM_VALUE,f,c))}d._manager&&(c=d._manager,p=d.name,c._oldValueLogs||(c._oldValueLogs={}),c._oldValueLogs[p]||(c._oldValueLogs[p]={}),c=c._oldValueLogs[p],p=b._values[d.idKey],c[p]||(c[p]={}),c[p][f]||(c[p][f]=R(b,f).toArray()));(g=d._manager?d._manager.isInUpdate():!1)||d._manager.beginUpdate()});p.addEventListener("change",function(){var a={type:"change",target:b,props:{}};a.props[f]={};G(d,a);g||d._manager.endUpdate()})}function b(a){this._model=
d;this._values={};this._nullProps={};var g={},z=[],x=[],j;for(j in a)f.hasOwnProperty(j)||e(n.ERR_CODE_CANNOT_SET_NOT_DEFINED_PROPERTY,[d.name,j]);for(var o in f){if((j=f[o])&&O(j.type)){var l=h.core.data.createObservableArray();l.relatedItem=this;$(this,o,l);this._nullProps[o]=!0;x.push(o)}j&&j.depend?o in a&&e(n.ERR_CODE_DEPEND_PROPERTY,o):(l=null,o in a?l=a[o]:(l=j&&void 0!==j.defaultValue?j.defaultValue:null,j&&O(j.type)&&z.push(o)),g[o]=l)}q(d,this,g,z,null,!0);a=0;for(g=x.length;a<g;a++)c(d,
this,x[a],this.get(x[a]))}var f=d.schema;a.extend(b.prototype,W.prototype,{get:function(c){if(0===arguments.length)return a.extend({},this._values);f.hasOwnProperty(c)||e(n.ERR_CODE_CANNOT_GET_NOT_DEFINED_PROPERTY,[d.name,c]);return R(this,c)},set:function(a){var c=d.idKey;(this._model!==d||!this._model._manager)&&e(P,[R(this,c),"set"],this);var b=a;2===arguments.length&&(b={},b[arguments[0]]=arguments[1]);c in b&&b[c]!==R(this,c)&&e(t,null,this);(c=d._manager?d._manager.isInUpdate():!1)||d._manager.beginUpdate();
(b=q(d,this,b,null))&&G(d,b);c||d._manager.endUpdate()},getModel:function(){return this._model},regardAsNull:function(a){return this._isArrayProp(a)?!0===this._nullProps[a]:null===R(this,a)},_isArrayProp:function(a){return f[a]&&f[a].type&&-1<f[a].type.indexOf("[]")?!0:!1}});return b}function C(d,c,b){var f=b.base;f?(c||e(ERR_CODE_NO_MANAGER),c=c.models[f.slice(1)].schema):c={};a.extend(d,c,b.schema)}function u(a){var c=a._manager,a=a.name;c._updateLogs||(c._updateLogs={});c._updateLogs[a]||(c._updateLogs[a]=
{});return c._updateLogs[a]}function w(a,c,b){if(a._manager)for(var f=u(a),e=0,n=b.length;e<n;e++){var g=b[e],j=g._values[a.idKey];f[j]||(f[j]=[]);f[j].push({type:c,item:g})}}function G(a,c){if(a._manager){var b=u(a),e=c.target._values[a.idKey];b[e]||(b[e]=[]);b[e].push({type:f,ev:c})}}function B(a,c,b){this.items={};this.size=0;this.name=a.name;this._manager=c;var f={};C(f,c,a);this.schemaKeys=[];for(var e in f)f[e]&&!0===f[e].id&&(this.idKey=e),this.schemaKeys.push(e);this.schema=f;this._idType=
(c=f[this.idKey].type)?"string"===c?g:r:g;c=[];e=[];for(var n in f)f[n]&&f[n].depend?e.push(n):c.push(n);this._dependencyMap=T(f);this._dependProps=e;this._realProps=c;this._itemValueCheckFuncs=b;this._itemConstructor=v(this,a)}function i(a){ja(a)||e(b);this.models={};this.name=a;this._updateLogs=null}function l(a,c){var b=m(a,c,!0);0<b.length&&e(o,null,b);var f={};C(f,c,a);b=Q(f,c);f=H(f,b,!0);0<f.length&&e(o,null,f);f=a.name;if(c.models[f])return c.models[f];b=new B(a,c,b);return c.models[f]=b}
var g="string",r="number",b=15E3,o=15001,t=15003,P=15005,J=15900,D=15901,N=15902,F=15903,k=15904,c=6,f=2,j=h.u.obj.argsToArray,M=K.data.validateSchema,H=K.data.validateDefaultValue,Q=K.data.createCheckValueByDescriptor,S=K.data.createItemDescErrorReason,T=K.data.createDependencyMap,V=K.data.isIntegerValue,Y=K.data.isNumberValue,ha=K.data.unbox,W=K.data.EventDispatcher,X=K.data.calcDependencies,R=K.data.getValue,$=K.data.setValue,O=K.data.isTypeArray,x=K.data.isBothStrictNaN,n=K.data.ITEM_ERRORS;a.extend(B.prototype,
W.prototype,{create:function(d){this._manager||e(15006,[this.name,"create"]);"object"!==typeof d&&!a.isArray(d)&&e(15007);var c=[],b=this.idKey,f=this._manager?this._manager.isInUpdate():!1;f||this._manager.beginUpdate();for(var g=[],j=L(d),x=0,h=j.length;x<h;x++){var o=j[x],l=o[b];(""===l||null==l)&&e(15002);!V(l,!0)&&!y(l)&&e(n.ERR_CODE_INVALID_ITEM_VALUE);var k=this._findById(l);k?(c.push(k),(l=q(this,k,o,null,[b]))&&G(this,l)):(o=new this._itemConstructor(o),this.items[l]=o,this.size++,g.push(o),
c.push(o))}0<g.length&&w(this,1,g);f||this._manager.endUpdate();return a.isArray(d)?c:c[0]},get:function(d){if(a.isArray(d)||h.core.data.isObservableArray(d)){for(var c=[],b=0,f=d.length;b<f;b++)c.push(this._findById(d[b]));return c}return this._findById(d)},remove:function(d){this._manager||e(15006,[this.name,"remove"]);var c=this._manager?this._manager.isInUpdate():!1;c||this._manager.beginUpdate();for(var b=this.idKey,f=L(d),n=[],g=[],j=0,x=f.length;j<x;j++)if(this.has(f[j])){var o=y(f[j])||V(f[j],
!0)?f[j]:f[j]._values[b],h=this.items[o];delete this.items[o];this.size--;g.push(h);h._model=null;n.push(h)}else g.push(null);0<n.length&&w(this,3,n);c||this._manager.endUpdate();return a.isArray(d)?g:g[0]},removeAll:function(){var a=this.toArray();0<a.length&&this.remove(a);return a},has:function(d){return y(d)||V(d,!0)?!!this._findById(d):"object"===typeof d?null!=d&&a.isFunction(d.get)&&d===this.items[d.get(this.idKey)]:!1},getManager:function(){return this._manager},_validateItemValue:function(a,
c){return this._itemValueCheckFuncs[a](c)},_findById:function(a){a=this.items[a];return void 0===a?null:a},_dispatchItemsChangeEvent:function(a){a={type:"itemsChange",created:[],recreated:[],removed:[],changed:[a]};this.dispatchEvent(a);this._manager&&(a.target=this,this._manager._dataModelItemsChangeListener(a))},toArray:function(){var a=[],c=this.items,b;for(b in c)c.hasOwnProperty(b)&&a.push(c[b]);return a}});i.prototype=new W;a.extend(i.prototype,{createModel:function(d){if(a.isArray(d)){var c=
d.length;c||e(o,null,[S(J)]);for(var b={},f=[],n=0;n<c;n++)try{f.push(d[n].name);var g=[];d[n].base&&g.push(d[n].base.substring(1));for(var j in d[n].schema){var x=d[n].schema[j];if(x){var h=x.type;h&&"@"===h.substring(0,1)&&(h=-1===h.indexOf("[]")?h.substring(1):h.substring(1,h.length-2),g.push(h))}}b[n]={depends:g}}catch(k){e(o)}for(j={size:0};j.size<c;){x={};h=!1;for(n=0;n<c;n++)if(!b[n].registed){for(var g=b[n].depends,m=0,i=g.length;m<i;m++)if(!this.models[g[m]]){x[g[m]]=!0;break}m===i&&(j[n]=
l(d[n],this),j.size++,h=!0,b[n].registed=!0)}if(!h){var n=!0,t;for(t in x)if(-1===a.inArray(t,f)){n=!1;break}n&&e(15004);e(o,null,[S(F,t)])}}d=[];for(n=0;n<c;n++)d.push(j[n]);return d}return l(d,this)},dropModel:function(a){if((a=y(a)?a:"object"===typeof a?a.name:null)&&this.models[a]){var c=this.models[a];c._manager=null;delete this.models[a];return c}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var a=
this._updateLogs,c=this._oldValueLogs;this._oldValueLogs=this._updateLogs=null;var b={},e;for(e in a)if(a.hasOwnProperty(e)){var n;n=this.models[e];var g=a[e],j=[],o=[],l=[],k=[],m=void 0;for(m in g){for(var i=g[m],t=!0,q=[],r=i.length-1;0<=r;r--){var u=i[r],H=u.type;if(H===f)q.push(u.ev);else{a:{for(t=0;t<r;t++){var w=i[t].type;if(1===w||3===w){r=i[t];break a}}r=null}if(1===H)r&&3===r.type?j.push({id:m,oldItem:r.item,newItem:u.item}):o.push(u.item);else if(r=r&&3===r.type?r.item:r?null:u.item)k.push(r),
r.dispatchEvent({type:"remove",model:n});t=!1;break}}if(t&&0<q.length){u={};for(r=q.length-1;0<=r;r--)for(var v in q[r].props)u[v]||(h.core.data.isObservableArray(n.get(m).get(v))?(H=c&&c[n.name]&&c[n.name][m]&&c[n.name][m][v],n.get(m).get(v).equals(H)||(u[v]={oldValue:H})):u[v]={oldValue:q[r].props[v].oldValue});r=!1;for(v in u)H=u[v].oldValue,i=n.get(m).get(v),H===i||x(H,i)?delete u[v]:(u[v].newValue=n.get(m).get(v),r=!0);r&&(q={type:"change",target:q[0].target,props:u},l.push(q),q.target.dispatchEvent(q))}}(n=
0===o.length&&0===j.length&&0===k.length&&0===l.length?!1:{created:o,recreated:j,removed:k,changed:l})&&(b[e]=n)}a=!1;for(e in b)a=!0,n=b[e],this.models[e].dispatchEvent({type:"itemsChange",created:n.created,recreated:n.recreated,removed:n.removed,changed:n.changed});b={type:"itemsChange",models:b};a&&this.dispatchEvent(b)}},_dataModelItemsChangeListener:function(a){var c=a.target.manager,b={};b[a.target.name]=a;c.dispatchEvent({type:"itemsChange",models:b})}});h.u.obj.expose("h5.core.data",{createManager:function(a,
c){ja(a)||e(b);var f=new i(a);if(null!=c){""===c&&(c="window");var n={};n[a]=f;h.u.obj.expose(c,n)}return f},createSequence:function(d,c,b){function f(){return x}function e(){var a=x;x+=h;return a}function n(){return x.toString()}function g(){var a=x;x+=h;return a.toString()}function j(){}var x=null!=d?d:1,h=null!=c?c:1,d=1===b?{current:n,next:g,returnType:1}:{current:f,next:e,returnType:2};d.setCurrent=function(a){x=a};a.extend(j.prototype,d);return new j},SEQ_STRING:1,SEQ_INT:2})})();(function(){function m(a,
c){return!a||a.nodeType!==D?void 0:a.getAttribute(c)}function q(a){if(!a)return null;for(var c=[],d=0,b=a.length;d<b;d++)c.push(a[d]);return c}function v(a,c,d,b){var f=[],c=L(c);if(!0===b)return C(f,a,c,d),f;for(var a=a.childNodes,b=0,e=a.length;b<e;b++)C(f,a[b],c,d);return f}function C(a,c,d,b){if(c.nodeType===D){for(var f=0,e=d.length;f<e;f++){var g=c.getAttribute(d[f]);if(void 0===b){if(null!==g){a.push(c);break}}else if(null!==g&&g==b){a.push(c);break}}if(0<c.childNodes.length){c=c.childNodes;
f=0;for(e=c.length;f<e;f++)C(a,c[f],d,b)}}}function u(c,b){for(var c=L(c),d=[],f=0,e=c.length;f<e;f++){var g=c[f];if(g.nodeType===D&&!(!0===b&&(null!=m(g,F)||null!=m(g,k))))for(var j=v(g,N,void 0,!0),h=0,o=j.length;h<o;h++){for(var l=!0,i=j[h];null!=i&&i!==g;i=i.parentNode)if(null!=m(i,F)||null!=m(i,k)){l=!1;break}l&&d.push(j[h])}}return a(d)}function w(c,b,d){for(var f=[],e=0,g=c.length;e<g;e++){var j=c[e];if(j.nodeType===D){if(!0===d){if(null!=j.getAttribute(b)){f.push(j);continue}if(null!=m(j,
F)||null!=m(j,k))continue}for(var h=v(j,b,void 0,!1),o=0,l=h.length;o<l;o++){var i=a(h[o]).parent("[data-h5-context],[data-h5-loop-context]")[0];(void 0===i||i===j)&&f.push(h[o])}}}return a(f)}function y(c){return c&&c.addEventListener&&c.getModel&&!a.isArray(c)&&!h.core.data.isObservableArray(c)||h.core.data.isObservableItem(c)?!0:!1}function B(a,c){for(var d=0,b=a.length;d<b;d++){var e=a[d];e.nodeType===D&&e.setAttribute(f,c)}}function i(b,f,d){var p=W++,g=f[0];a(g).empty();if(d){!a.isArray(d)&&
!h.core.data.isObservableArray(d)&&e(Y);B(f,p);b._addBindingEntry(d,g,p);h.core.data.isObservableArray(d)&&!b._isWatching(d)&&(f=function(a){b._observableArray_changeListener(a)},b._listeners[b._getContextIndex(d)]=f,d.addEventListener("change",f));var f=m(g,c),f=q(b._getSrcCtxNode(f).childNodes),j=[];b._loopElementsMap[p]=j;for(var p=document.createDocumentFragment(),o=d.get?function(a){return d.get(a)}:function(a){return d[a]},k=0,i=d.length;k<i;k++){for(var t=[],r=0,u=f.length;r<u;r++){var v=O(f[r]);
t.push(v);p.appendChild(v)}j[k]=t;g.appendChild(p);l(b,t,o(k),!1,!0)}}}function l(c,b,d,f,j){b=L(b);if(f)i(c,b,d);else{f=W++;d&&(("object"!==typeof d||a.isArray(d)||h.core.data.isObservableArray(d))&&e(Y),B(b,f),c._addBindingEntry(d,b,f));var o=y(d);o&&!c._isWatching(d)&&(f=function(a){c._observableItem_changeListener(a)},c._listeners[c._getContextIndex(d)]=f,d.addEventListener("change",f));u(b,j).each(function(){r(this,d,o)});g(c,b,d,!1,j);g(c,b,d,!0,j)}}function g(a,c,d,b,f){var e=b?"data-h5-loop-context":
"data-h5-context";w(c,e,f).each(function(){var c=m(this,e),f=null;d&&(f=y(d)?d.get(c):d[c]);l(a,this,f,b)})}function r(c,b,d){for(var f=m(c,N).split(Q),g=[],j=[],h=[],o=0,l=f.length;o<l;o++){var k=f[o];if(-1===k.indexOf(H))0<a.trim(k).length&&(g.push(null),j.push(null),h.push(a.trim(k)));else{var i=k.split(H),k=a.trim(i[0]),i=a.trim(i[1]),t=null,r=S.exec(k);r&&(t=r[1],k=/(\S+)[\s\(]/.exec(k)[1]);0<k.length&&0<i.length&&(g.push(k),j.push(t),h.push(i))}}f=a(c);o=0;for(l=g.length;o<l;o++)switch(i=g[o],
t=j[o],r=h[o],k=null,b&&(k=d?b.get(r):b[r]),null==i&&("input"===c.tagName.toLowerCase()?(i="attr",t="value"):i="text"),i){case "text":null==k?f.text(""):f.text(k);break;case "html":null==k?f.html(""):f.html(k);break;case "class":var i=m(c,M),r=(t=null==i)?"":" ",q=!1;k&&(q=!RegExp("\\s"+k+"\\s").test(" "+i+" "));f[0].className=(t?"":i)+(q?r+k:"");break;case "attr":t||e(T);null==k?f.removeAttr(t):f.attr(t,k);break;case "style":t||e(T);null==k?f.css(t,""):f.css(t,k);break;default:e(V)}}function b(a,
c,d){for(var b=0,f=d.length;b<f;b++){var e=d[b];c.removeChild(e);a._removeBinding(e)}}function o(a){for(var a=a.childNodes,c=[],d=0,b=a.length;d<b;d++)c.push(O(a[d]));return c}function t(a,c,d,b,f){for(var e=document.createDocumentFragment(),g=[],j=0,h=f.length;j<h;j++){var k=o(d);g[j]=k;for(var i=0,m=k.length;i<m;i++)e.appendChild(k[i]);l(a,k,f[j])}Array.prototype[b].apply(c,g);return e}function P(a,c,d,f,e,g){var j=f.length;if(0!==j){for(var h=f[0],k=h,d=1===j?d.length:k+f[1];k<d;k++){var i=e[k];
i&&b(a,c,i)}e.splice(h,f[1]);if(!(2>=j)){k=e.length;k=0===k||0===h?c.firstChild:h>=k?null:e[h][0];d=document.createDocumentFragment();h=[h,0];for(i=2;i<j;i++){for(var m=o(g),t=0,r=m.length;t<r;t++)d.appendChild(m[t]);l(a,m,f[i]);h.push(m)}c.insertBefore(d,k);Array.prototype.splice.apply(e,h)}}}function J(a,b){void 0!==a.nodeType?a.nodeType===D&&(this._parent=a.parentNode,this._targets=[a]):(this._parent=a[0].parentNode,this._targets=q(a));this._bindRootId=X++;R[this._bindRootId]=this;for(var d=[],
f=0,e=this._targets.length;f<e;f++){var g=this._targets[f];if(g.nodeType===D){g.setAttribute(j,this._bindRootId);for(var h=v(g,[F,k],void 0,!0),o=0,i=h.length;o<i;o++){var t=ha++;h[o].setAttribute(c,t)}h=v(g,N,void 0,!0);o=0;for(i=h.length;o<i;o++)t=h[o],/class\s*:/.test(m(t,N))&&""!=t.className&&t.setAttribute(M,t.className)}d.push(g.cloneNode(!0))}this._srces=d;this._loopElementsMap={};this._rootContext=b;this._usingContexts=[];this._srcToViewMap={};this._listeners={};l(this,this._targets,this._rootContext,
!1,!0)}var D=1,N="data-h5-bind",F="data-h5-context",k="data-h5-loop-context",c="data-h5-dyn-ctx",f="data-h5-dyn-vid",j="data-h5-dyn-bind-root",M="data-h5-dyn-cn",H=":",Q=";",S=/\(\s*(\S+)\s*\)/,T=7100,V=7101,Y=7102,ha=0,W=0,X=0,R={},K={},O;(function(){var c=document.createElement("div");c.h5Dummy="a";var b=c.cloneNode(!1),d=void 0!==b.h5Dummy;c.h5Dummy=void 0;d?(b.h5Dummy=void 0,O=function(c){return c.nodeType===D?a(a.trim(c.outerHTML))[0]:c.cloneNode(!0)}):O=function(a){return a.cloneNode(!0)}})();
a.extend(J.prototype,{unbind:function(){for(var a=0,b=this._targets.length;a<b;a++){var d=this._targets[a];if(d.nodeType===D){this._removeBinding(d);d.removeAttribute(j);for(var f=v(d,M,void 0,!0),e=0,g=f.length;e<g;e++)f[e].removeAttribute(M);d=v(d,c,void 0,!0);e=0;for(f=d.length;e<f;e++)d[e].removeAttribute(c)}}delete R[this._bindRootId]},_observableArray_changeListener:function(a){var f=this._getViewsFromSrc(a.target);if(f)for(var d in f)if(f.hasOwnProperty(d)){var e=f[d],g=this._getSrcCtxNode(m(e,
c)),j=this._loopElementsMap[d];switch(a.method){case "set":P(this,e,a.target,[a.args[0],1,a.args[1]],j,g);break;case "shift":case "pop":var h=j[a.method]();h&&b(this,e,h);break;case "unshift":h=t(this,j,g,a.method,a.args);e.insertBefore(h,e.firstChild);break;case "push":h=t(this,j,g,a.method,a.args);e.appendChild(h);break;case "splice":P(this,e,a.target,a.args,j,g);break;case "reverse":for(var h=e,k=j;h.firstChild;)h.removeChild(h.firstChild);for(var i=0,e=k.length;i<e;i++)for(var g=k[i],r=g.length-
1;0<=r;r--)h.insertBefore(g[r],h.firstChild);j.reverse();break;case "sort":case "copyFrom":for(var h=this._loopElementsMap,k=d,i=a.target,r=j,j=g,g=0,q=r.length;g<q;g++)b(this,e,r[g]);for(var r=document.createDocumentFragment(),q=[],g=0,u=i.length;g<u;g++){var v=o(j);q[g]=v;for(var H=0,w=v.length;H<w;H++)r.appendChild(v[H]);l(this,v,i.get(g))}e.appendChild(r);h[k]=q}}},_observableItem_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b){var d=!1;a.target===this._rootContext&&(d=
!0);var f=this,e;for(e in b)if(b.hasOwnProperty(e)){var g=b[e];u(g,d).each(function(){r(this,a.target,!0)});w(g,F).each(function(){var d=m(this,F);if(!(d in a.props))return!0;f._removeBinding(this);var b=m(this,c),b=f._getSrcCtxNode(b),b=O(b);this.parentNode.replaceChild(b,this);l(f,b,a.props[d].newValue)});w(g,k).each(function(){var c=m(this,k);if(!(c in a.props)||a.target._isArrayProp(c))return!0;f._removeBinding(this);l(f,this,a.props[c].newValue,!0)})}}},_getSrcCtxNode:function(a){for(var b=0,
d=this._srces.length;b<d;b++){var f=this._srces[b];if(m(f,c)===a)return f;f=v(f,c,a);if(0<f.length)return f[0]}return null},_isWatching:function(a){a=this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(c){return a.inArray(c,this._usingContexts)},_addBindingEntry:function(a,c,d){var b=this._getContextIndex(a);-1===b&&(this._usingContexts.push(a),b=this._usingContexts.length-1);K[d]=a;(a=this._srcToViewMap[b])?a[d]=c:(a={},a[d]=c,this._srcToViewMap[b]=a)},_hasBindingForSrc:function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;
return!1},_removeBindingEntry:function(a){var c=K[a];if(c){var d=this._getContextIndex(c);if(-1!==d){var b=this._srcToViewMap[d];b&&b[a]&&(delete b[a],this._hasBindingForSrc(b)||(b=!1,y(c)?(c.removeEventListener("change",this._listeners[d]),b=!0):h.core.data.isObservableArray(c)&&(c.removeEventListener("change",this._listeners[d]),b=!0),b&&delete this._listeners[d],delete this._srcToViewMap[d]))}K[a]&&delete K[a]}},_removeBinding:function(a){if(a.nodeType===D){var c=m(a,f);null!=c&&(this._removeBindingEntry(c),
a.removeAttribute(f));for(var a=v(a,f),c=0,d=a.length;c<d;c++){var b=a[c];this._removeBindingEntry(m(b,f));b.removeAttribute(f)}}},_getViewsFromSrc:function(a){a=this._getContextIndex(a);return-1===a?null:this._srcToViewMap[a]}});qa={createBinding:function(a,c){return new J(a,c)}}})();(function(){function m(b){return h.u.obj.isJQueryObject(b)?b:a(b)}function q(){this.__cachedTemplates={}}var v="[",C=7001,u=7002,w=7003,G=7010,B=7011,i=h.async.deferred,l={escapeHtml:function(a){return h.u.str.escapeHtml(a)}},
g={MAX_CACHE:10,cache:{},cacheUrls:[],accessingUrls:{},append:function(a,e,g){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);this.cache[a]={};this.cache[a].templates=e;this.cache[a].path=g;this.cacheUrls.push(a)},deleteCache:function(a,e){e||delete this.cache[a];for(var g=0,h=this.cacheUrls.length;g<h;g++)if(this.cacheUrls[g]===a){this.cacheUrls.splice(g,1);break}},getTemplateByUrls:function(b){function g(c){if(0!==c.length){var b={},f=[];c.each(function(){var c=a.trim(this.id),
g=a.trim(this.innerHTML);c||e(u,null,{});try{var j=new EJS.Compiler(g,v);j.compile();b[c]=j.process;f.push(c)}catch(h){g=h.lineNumber,e(G,[g?" line:"+g:"",h.message],{id:c,error:h,lineNo:g})}});return{compiled:b,data:{ids:f}}}}function l(c,b,f){h.ajax(b).done(function(b,e,j){delete y.accessingUrls[c];b=a(j.responseText).filter(function(){return this.tagName&&-1===this.tagName.indexOf("/")&&8!==this.nodeType});e=this.url;if(0<b.not('script[type="text/ejs"]').length)f.reject(ba(B,null,{url:c,path:e}));
else{j=null;try{j=g(b.filter('script[type="text/ejs"]'))}catch(h){h.detail.url=c;h.detail.path=e;f.reject(h);return}var k,i;try{var l=j.compiled;i=j.data;i.path=e;i.absoluteUrl=c;k=l;y.append(c,l,e)}catch(m){f.reject(ba(C,null,{error:m,url:c,path:e}));return}f.resolve({ret:k,data:i})}}).fail(function(a){delete y.accessingUrls[c];f.reject(ba(w,[a.status,c],{url:c,path:b,error:a}))})}for(var m={},r=[],q=[],y=this,F=function(a){var c=y.cache[a].templates;y.deleteCache(a,!0);y.cacheUrls.push(a);return c},
k=0;k<b.length;k++){var c=b[k],f=ga(c);if(this.cache[f])a.extend(m,F(f)),q.push({absoluteUrl:f});else if(this.accessingUrls[f])r.push(this.accessingUrls[f]);else{var j=h.async.deferred();r.push(this.accessingUrls[f]=j.promise());l(f,c,j)}}var M=i();h.async.when(r).done(function(){for(var c=h.u.obj.argsToArray(arguments),b=0,f=c.length;b<f;b++)a.extend(m,c[b].ret),q.push(c[b].data);M.resolve(m,q)}).fail(function(a){M.reject(a)});return M.promise()}};a.extend(q.prototype,{load:function(b){var h=i(),
l=this,m=null;switch(a.type(b)){case "string":a.trim(b)||e(7004);m=[b];break;case "array":m=b;0===m.length&&e(7004);for(var b=0,r=m.length;b<r;b++)y(m[b])?a.trim(m[b])||e(7004):e(7004);break;default:e(7004)}g.getTemplateByUrls(m).done(function(b,e){a.extend(l.__cachedTemplates,b);h.resolve(e)}).fail(function(a){h.reject(a)});return h.promise()},getAvailableTemplates:function(){var a=[],e;for(e in this.__cachedTemplates)a.push(e);return a},register:function(b,g){"string"!==a.type(g)?e(7E3,null,{id:b}):
(!y(b)||!a.trim(b))&&e(u,[]);try{var h=new EJS.Compiler(g,v);h.compile();this.__cachedTemplates[b]=h.process}catch(i){h=i.lineNumber,e(G,[h?" line:"+h:"",i.message],{id:b})}},isValid:function(a){try{return(new EJS.Compiler(a,v)).compile(),!0}catch(e){return!1}},get:function(b,g){var h=this.__cachedTemplates;if(a.isEmptyObject(h))return null;(!y(b)||!a.trim(b))&&e(u);(h=h[b])||e(7005,b);var i=g?a.extend(!0,{},g):{},m=i.hasOwnProperty("_h")?new EJS.Helpers(i):new EJS.Helpers(i,{_h:l}),r=null;try{r=
h.call(i,i,m)}catch(q){e(7006,q.toString(),q)}return r},update:function(a,e,g){return m(a).html(this.get(e,g))},append:function(a,e,g){return m(a).append(this.get(e,g))},prepend:function(a,e,g){return m(a).prepend(this.get(e,g))},isAvailable:function(a){return!!this.__cachedTemplates[a]},clear:function(b){if(void 0===b)this.__cachedTemplates={};else{var g=null;switch(a.type(b)){case "string":g=[b];break;case "array":b.length||e(u);g=b;break;default:e(u)}for(var b=0,h=g.length;b<h;b++){var i=g[b];
(!y(i)||!a.trim(i))&&e(u)}b=0;for(h=g.length;b<h;b++)delete this.__cachedTemplates[g[b]]}},bind:function(b,g){var i=null;null==b&&e(7007);a.isArray(b)?i=b:(i=a(b),0===i.length&&e(7007),i=i.toArray());(null==g||"object"!==typeof g||a.isArray(g)||h.core.data.isObservableArray(g))&&e(7009);return qa.createBinding(i,g)}});var r=new q;r.createView=function(){return new q};a(function(){a('script[type="text/ejs"]').each(function(){var b=a.trim(this.id),e=a.trim(this.innerHTML);0!==e.length&&b&&(e=new EJS.Compiler(e,
v),e.compile(),r.__cachedTemplates[b]=e.process)})});h.u.obj.expose("h5.core",{view:r})})();(function(){function e(c){var d={},b;for(b in f){var g=a("<div></div>").addClass(c).addClass(b).appendTo("body"),h=a.camelCase(b);d[h]={};a.map(f[b],function(a){d[h][a]="width"===a||"height"===a?parseInt(g.css(a).replace(/\D/g,""),10):g.css(a)});g.remove()}return d}function q(a,c){var b=window.document.createElement("v:"+a),f;for(f in c)b.style[f]=c[f];return b}function v(a,c){for(var b=[],f=a/2,e=0.8*a/2,
g=360/c*Math.PI/180,h=1;h<=c;h++){var j=g*h,i=Math.cos(j),j=Math.sin(j);b.push({from:{x:f+e/2*i,y:f+e/2*j},to:{x:f+e*i,y:f+e*j}})}return b}function C(a){return function(){var c=document.body,b=document.documentElement,f=H?c:Q?b:null;return f?"Height"===a?f["client"+a]>f["scroll"+a]?f["client"+a]:f["scroll"+a]:f["client"+a]:Math.max(c["scroll"+a],b["scroll"+a],c["offset"+a],b["offset"+a],b["client"+a])}}function u(a){return function(){var c=H?document.body:document.documentElement;return window["page"+
("Top"===a?"Y":"X")+"Offset"]||c["scroll"+a]}}function w(a){var c=H?document.body:document.documentElement;return F.isiOS?window["inner"+a]:c["client"+a]}function G(c){var d=a(c)[0],b=document.body,f=a("html")[0],c={top:0,left:0};if(d===b&&Q)return{top:parseFloat(f.currentStyle.paddingTop||0)+parseFloat(b.currentStyle.marginTop||0)+parseFloat(b.currentStyle.borderTop||0),left:parseFloat(f.currentStyle.paddingLeft||0)+parseFloat(b.currentStyle.marginLeft||0)+parseFloat(b.currentStyle.borderLeft||0)};
"undefined"!==typeof d.getBoundingClientRect&&(c=d.getBoundingClientRect());b=H?b:document.documentElement;d=b.clientTop||0;b=b.clientLeft||0;return{top:c.top+X()-d,left:c.left+R()-b}}function B(){a.each(c(arguments),function(a,c){c.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",function(){return!1})})}function i(a){a=k(a)?a[0]:a;return a===window||a===document||a===document.body}function l(c){this.style=
a.extend(!0,{},c);c=this.style.throbber.width;this.group=q("group",{width:c+"px",height:this.style.throbber.height+"px"});this.group.className=P;for(var c=v(c,this.style.throbber.lines),d=this.style.throbberLine.color,b=this.style.throbberLine.width,f=0,e=c.length;f<e;f++){var g=c[f],h=g.from,j=g.to,g=q("line");g.strokeweight=b;g.strokecolor=d;g.fillcolor=d;g.from=h.x+","+h.y;g.to=j.x+","+j.y;h=q("stroke");h.opacity=1;g.appendChild(h);this.group.appendChild(g)}this._createPercentArea()}function g(c,
d){var f=this,g=a(c),j=a.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,fadeOut:-1,promises:null,theme:"a"},d);this._displayed=!1;this._throbbers=[];this._settings=j;this._styles=a.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},e(j.theme));this._$target=(this._isScreenLock=i(g))?a("body"):g;this._target=1===this._$target.length?this._$target[0]:this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){f._handleScrollEvent()};this._resizeEventTimerId=
null;this._resizeHandler=function(){f._handleResizeEvent()};this._redrawable=!0;this._lastPercent=-1;this._lastMessage=null;this._fadeInTime="number"===typeof j.fadeIn?j.fadeIn:-1;this._fadeOutTime="number"===typeof j.fadeOut?j.fadeOut:-1;this._$content=a();this._$overlay=a();this._$skin=a();for(var g=h.u.str.format(J,""===j.message?'style="display: none;"':"",j.message),k="https"===document.location.protocol?"return:false":"about:blank",l=0,q=this._$target.length;l<q;l++)this._$content=this._$content.add(a("<div></div>").append(g).addClass(r).addClass(j.theme).addClass(b).hide()),
this._$overlay=this._$overlay.add((j.block?a("<div></div>"):a()).addClass(r).addClass(j.theme).addClass(o).hide()),this._$skin=this._$skin.add((Q||H?a("<iframe></iframe>"):a()).attr("src",k).addClass(r).addClass(t).hide());var u=this._isScreenLock&&T?"fixed":"absolute";a.each([this._$overlay,this._$content],function(){this.css("position",u)});j=j.promises;g=function(){f.hide()};a.isArray(j)?(a.map(j,function(a){return N(a)?a:null}),0<j.length&&h.async.when(j).pipe(g,g)):N(j)&&j.pipe(g,g)}var r="h5-indicator",
b="content",o="overlay",t="skin",P="vml-root",J='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',D=500,N=h.async.isPromise,F=h.env.ua,k=h.u.obj.isJQueryObject,c=h.u.obj.argsToArray,f={throbber:["width","height"],"throbber-line":["width","color"]},j=!!document.createElement("canvas").getContext,M=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));a.innerHTML='<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior=
"url(#default#VML)";return"number"===typeof a.strokeweight}(),H="CSS1Compat"!==document.compatMode,Q=F.isIE&&6>=F.browserVersion,S=F.isChrome&&F.isDesktop,T=!(F.isAndroidDefaultBrowser||F.isiOS&&5>F.browserVersion||Q||H||F.isWindowsPhone),V=null,Y=null,K=null,L=null,X=null,R=null,$=function(){var c=document.createDocumentFragment().appendChild(document.createElement("div")),d=["Webkit","Moz","O","ms","Khtml"],b=d.length;return function(f){f=a.camelCase(f);if(f in c.style)return!0;for(var f=f.charAt(0).toUpperCase()+
f.slice(1),e=0;e<b;e++)if(d[e]+f in c.style)return!0;return!1}}(),Y=function(a){return function(){var c=document.body,b=document.documentElement;return"number"===typeof window["inner"+a]?window["inner"+a]:H?c["client"+a]:b["client"+a]}}("Height"),K=C("Height"),L=C("Width"),X=u("Top"),R=u("Left");if(!j&&M){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var O=document.createElement("style");O.setAttribute("type","text/css");O.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }";
document.getElementsByTagName("head")[0].appendChild(O)}V=$("animationName");l.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),this._run())},hide:function(){this.root.innerHTML="";this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){for(var a=this.style.throbber.lines,c=this.style.throbber.roundTime,b=this.highlightPos,f=this.group.childNodes,e=0,g=f.length;e<g;e++){var j=f[e];if("textbox"!==j.nodeName){var h=e+1;
j.firstChild.opacity=h==b?"1":h==b+1||h==b-1?"0.75":"0.4"}}b==a?b=0:b++;this.highlightPos=b;var i=this;this._runId=setTimeout(function(){i._run.call(i)},Math.floor(c/a))},_createPercentArea:function(){var c=q("textbox"),d=a("<table><tr><td></td></tr></table>"),b=d.find("td");b.width(this.group.style.width);b.height(this.group.style.height);b.css("line-height",this.group.style.height);b.addClass("throbber-percent");c.appendChild(d[0]);this.group.appendChild(c)},setPercent:function(c){a(this.group).find(".throbber-percent").html(c)}};
var x=function(c){this.style=a.extend(!0,{},c);this.canvas=document.createElement("canvas");this.baseDiv=document.createElement("div");this.percentDiv=document.createElement("div");var c=this.canvas,d=this.baseDiv,b=this.percentDiv;c.width=this.style.throbber.width;c.height=this.style.throbber.height;c.style.display="block";c.style.position="absolute";d.style.width=this.style.throbber.width+"px";d.style.height=this.style.throbber.height+"px";d.appendChild(c);b.style.width=this.style.throbber.width+
"px";b.style.height=this.style.throbber.height+"px";b.style.lineHeight=this.style.throbber.height+"px";b.className="throbber-percent";d.appendChild(b);this.positions=v(c.width,this.style.throbber.lines)};x.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){a(this.baseDiv).remove();this._runId&&(S?clearInterval(this._runId):clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.canvas,c=a.getContext("2d"),
b=this.highlightPos,f=this.positions,e=this.style.throbberLine.color,g=this.style.throbberLine.width,j=this.style.throbber.lines,h=this.style.throbber.roundTime;a.width=a.width;for(var i=0,k=f.length;i<k;i++){c.beginPath();c.strokeStyle=e;c.lineWidth=g;var l=i+1;c.globalAlpha=l==b?1:l==b+1||l==b-1?0.75:0.4;var m=f[i],l=m.from,m=m.to;c.moveTo(l.x,l.y);c.lineTo(m.x,m.y);c.stroke()}b==j?b=0:b++;this.highlightPos=b;if(S){var o=0;this._runId=setInterval(function(){o++;a.style.webkitTransform="rotate("+
o+"deg)";360<=o&&(o-=360)},h/360)}else if(V)a.className="throbber-canvas";else{var r=this;this._runId=setTimeout(function(){r._run.call(r)},Math.floor(h/j))}},setPercent:function(a){this.percentDiv.innerHTML=a}};g.prototype={show:function(){if(this._displayed||0<this._$target.children("."+r).length)return this;this._displayed=!0;for(var c=this,d=this._fadeInTime,b=function(){var d=a(window);c._isScreenLock&&(B(c._$overlay,c._$content),T||(d.bind("touchmove",c._scrollHandler),d.bind("scroll",c._scrollHandler)));
d.bind("orientationchange",c._resizeHandler);d.bind("resize",c._resizeHandler)},f=0,e=this._$target.length;f<e;f++){var g=this._$target.eq(f),h=this._$content.eq(f),i=this._$skin.eq(f),k=this._$overlay.eq(f);!this._isScreenLock&&"static"===g.css("position")&&(g.data("before-position",g.css("position")),g.data("before-zoom",g.css("zoom")),g.css({position:"relative",zoom:"1"}));var m=j?new x(this._styles):M?new l(this._styles):null;m&&(c._throbbers.push(m),c.percent(this._settings.percent),m.show(h.children(".indicator-throbber")[0]));
g.append(i).append(k).append(h)}f=a().add(this._$skin).add(this._$content).add(this._$overlay);0>d?(f.show(),b()):f.fadeIn(d,b);this._reposition();this._resizeOverlay();return this},_resizeOverlay:function(){var a,c;if(!this._isScreenLock||!T)for(var b=0,f=this._$target.length;b<f;b++){c=this._$target.eq(b);var e=this._$overlay.eq(b),g=this._$skin.eq(b);if(this._isScreenLock)a=L(),c=K();else{var j=c[0];a=j.scrollWidth;c=j.scrollHeight;if(Q)a=Math.max(a,j.clientWidth),c=Math.max(c,j.clientHeight);
else if(F.isIE&&"function"===typeof getComputedStyle){var j=getComputedStyle(j,null),h=parseFloat(j.width)+parseFloat(j.paddingLeft)+parseFloat(j.paddingRight);a+=h-parseInt(h)-1;j=parseFloat(j.height)+parseFloat(j.paddingTop)+parseFloat(j.paddingBottom);c+=j-parseInt(j)-1}}e.width(a).height(c);(Q||H)&&g.width(a).height(c)}},_reposition:function(){for(var c=0,b=this._$target.length;c<b;c++){var f=this._$target.eq(c),e=this._$content.eq(c);if(this._isScreenLock){var g=Y();T?e.css("top",(g-e.outerHeight())/
2+"px"):e.css("top",X()+g/2-e.outerHeight()/2+"px")}else e.css("top",f.scrollTop()+(f.innerHeight()-e.outerHeight())/2);var g=e.innerWidth()-e.width(),j=0;e.children().each(function(){var c=a(this);if("none"===c.css("display"))return!0;j+=c.outerWidth(!0)});e.width(j+g);e.css("left",f.scrollLeft()+(f.innerWidth()-e.outerWidth())/2)}},hide:function(){if(!this._displayed)return this;this._displayed=!1;var c=this,b=this._fadeOutTime,f=a().add(this._$skin).add(this._$content).add(this._$overlay),e=function(){var b=
a(window);f.remove();c._isScreenLock||c._$target.each(function(c,b){var d=a(b);d.css({position:d.data("before-position"),zoom:d.data("before-zoom")});d.removeData("before-position").removeData("before-zoom")});b.unbind("touchmove",c._scrollHandler);b.unbind("scroll",c._scrollHandler);b.unbind("orientationchange",c._resizeHandler);b.unbind("resize",c._resizeHandler);c._resizeEventTimerId&&clearTimeout(c._resizeEventTimerId);c._scrollEventTimerId&&clearTimeout(c._scrollEventTimerId)};if(!V||S)for(var g=
0,j=this._throbbers.length;g<j;g++)this._throbbers[g].hide();0>b?(f.hide(),e()):f.fadeOut(b,e);return this},percent:function(a){if("number"!==typeof a||!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=a,this;for(var c=0,b=this._throbbers.length;c<b;c++)this._throbbers[c].setPercent(a);return this},message:function(a){if(!y(a))return this;if(!this._redrawable)return this._lastMessage=a,this;this._$content.children(".indicator-message").css("display","inline-block").text(a);
this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=null},50)}},_handleResizeEvent:function(){function a(){c._resizeOverlay();c._reposition();c._redrawable=!0;c.percent(c._lastPercent);c.message(c._lastMessage);c._resizeEventTimerId=null}var c=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);
this._redrawable=!1;T||Q||H?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};h.u.obj.expose("h5.ui",{indicator:function(a,c){return new g(a,c)},isInView:function(c,b){var f,e,g,j,h=a(c);if(void 0===b)e=w("Height"),j=w("Width"),f=X(),g=R();else{j=a(b);if(0===j.find(h).length)return;g=G(j);f=g.top+parseInt(j.css("border-top-width"));g=g.left+parseInt(j.css("border-left-width"));e=j.innerHeight();j=j.innerWidth()}e=f+e;j=g+j;var i=G(h),k=i.top,i=i.left,l=k+h.outerHeight(),h=i+h.outerWidth();
return(f<=k&&k<e||f<l&&l<=e)&&(g<=i&&i<j||g<h&&h<=j)},scrollToTop:function(){function c(){1===window.scrollY&&(b=0);0<b&&(window.scrollTo(0,1),b--,setTimeout(c,D))}var b=3;window.scrollTo(0,1);1!==a(window).scrollTop&&setTimeout(c,D)}})})();(function(){function m(){var e=a.mobile.activePage,e=e&&e[0].id;return y(e)&&0<e.length?e:null}function q(){var a=m();null!==a&&(v.addCSS(a),v.bindController(a))}var v=null,C={},u={},w={},G={},B={},i=!1;h.u.obj.ns("h5.ui.jqm");h.ui.jqm.dataPrefix="h5";var l={__name:"JQMController",
__ready:function(){var e=this;a(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){e.loadScript(this.id)})},':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(a){a=a.event.target.id;this.loadScript(a);this.addCSS(a);this.bindController(a)},"{document} pageremove":function(a){var a=a.event.target.id,e=u[a],b=w[a];if(e){for(var h=0,i=e.length;h<i;h++)e[h].dispose();u[a]=[]}if(b){h=0;for(i=b.length;h<i;h++)b[h].dispose();w[a]=[]}},"{document} pagebeforeshow":function(a){var a=
a.event.target.id,e=null;this.addCSS(a);for(e in u)for(var b=u[e],h=a===e,i=0,l=b.length;i<l;i++){var m=b[i];h?m.enableListeners():m.disableListeners()}for(e in w){b=w[e];h=a===e;i=0;for(l=b.length;i<l;i++)m=b[i],h?m.enableListeners():m.disableListeners()}},"{document} pagehide":function(a){this.removeCSS(a.event.target.id)},"{rootElement} h5controllerbound":function(e){e=e.evArg;if(this!==e){var h=m();null!==h&&-1===a.inArray(e,u[h])&&(w[h]||(w[h]=[]),w[h].push(e))}},"{rootElement} h5controllerunbound":function(e){var h=
e.evArg,e=m();null!==e&&(h=a.inArray(h,w[e]),-1!==h&&w[e].splice(h,1))},loadScript:function(e){var e=a("#"+e),i=a.trim(e.data(this.getDataAttribute("script")));if(0!==i.length)return i=a.map(i.split(","),function(b){return a.trim(b)}),e=!0==e.data(this.getDataAttribute("async")),h.u.loadScript(i,{async:e})},getDataAttribute:function(a){var e=h.ui.jqm.dataPrefix;null==e&&(e="h5");return 0!==e.length?e+"-"+a:a},bindController:function(a){var e=C[a],b=G[a];if(e&&0!==e.length){u[a]||(u[a]=[]);for(var i=
u[a],l=0,m=e.length;l<m;l++){for(var q=e[l],v=!1,w=0,y=i.length;w<y;w++){var k=i[w];if(k&&k.__name===q.__name){v=!0;break}}v||u[a].push(h.core.controller("#"+a,q,b[l]))}}},addCSS:function(e){if(e=B[e])for(var h=document.getElementsByTagName("head")[0],b=h.getElementsByTagName("link"),i=b.length,l=0,m=e.length;l<m;l++){for(var q=a.mobile.path.parseUrl(e[l]).filename,u=!1,v=0;v<i;v++)if(a.mobile.path.parseUrl(b[v].href).filename===q){u=!0;break}u||(q=document.createElement("link"),q.type="text/css",
q.rel="stylesheet",q.href=e[l],h.appendChild(q))}},removeCSS:function(e){var h=B[e];if(h&&(e=m(),null!==e)){var b=B[e];a("link").filter(function(){var e=a(this).attr("href");return-1!==a.inArray(e,h)&&-1===a.inArray(e,b)}).remove()}}};h.u.obj.expose("h5.ui.jqm.manager",{init:function(){i||(i=!0,a(function(){v=K.controllerInternal("body",l,null,{managed:!1});q()}))},define:function(g,h,b,i){y(g)||e(12E3,"id");null!=h&&!y(h)&&!a.isArray(h)&&e(12E3,"cssSrc");null!=b&&((y(b)||a.isArray(b))&&e(12001),
(!a.isPlainObject(b)||!("__name"in b))&&e(12E3,"controllerDefObject"),null!=i&&!a.isPlainObject(i)&&e(12E3,"initParam"));B[g]||(B[g]=[]);C[g]||(C[g]=[]);G[g]||(G[g]=[]);a.merge(B[g],a.map(a.makeArray(h),function(b){return a.inArray(b,B[g])!==-1?null:b}));b&&-1===a.inArray(b,C[g])&&(C[g].push(b),G[g].push(i));null!==m()&&v?q():this.init()}})})();(function(){function m(){y||(y=navigator.geolocation);return y}function q(a,e){this.oblateness=a;this.semiMajorAxis=e}function v(){}var y=null,u=h.env.ua;
q.prototype.getOblateness=function(){return this.oblateness};q.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};var w=new q(298.257222,6378137),G=new q(299.152813,6377397.155),B=Math.PI/180;a.extend(v.prototype,{isSupported:u.isIE&&9<=u.browserVersion?!0:!!m(),getCurrentPosition:function(a){var e=h.async.deferred();m().getCurrentPosition(function(a){e.resolve(a)},function(a){e.reject(ba(2002,null,a))},a);return e.promise()},watchPosition:function(a){function e(){}var g=h.async.deferred(),
q=m().watchPosition(function(a){g.notify(a)},function(a){m().clearWatch(q);g.reject(ba(2002,null,a))},a);e.prototype.unwatch=function(){m().clearWatch(q);g.resolve()};return g.promise(new e)},getDistance:function(a,h,g,m,b){(!isFinite(a)||!isFinite(h)||!isFinite(g)||!isFinite(m))&&e(2E3);var o=b?b:w;o instanceof q||e(2001);var b=o.getSemiMajorAxis(),t=o.getOblateness(),a=a*B,h=h*B,g=g*B,o=m*B,m=(a+g)/2,t=Math.sqrt(2*t-1)/t,t=Math.pow(t,2),u=Math.sqrt(1-t*Math.pow(Math.sin(m),2)),t=b*(1-t)/Math.pow(u,
3),b=b/u,h=h-o;return Math.sqrt(Math.pow(t*(a-g),2)+Math.pow(b*Math.cos(m)*h,2))},GS_GRS80:w,GS_BESSEL:G});h.u.obj.expose("h5.api",{geo:new v})})();(function(){function m(a,b){for(var e=a._tasks,g=e.length-1;0<=g;g--)e[g].deferred.reject(ba(N,["SQLDB ERROR(code="+b.code+")",b.message],b))}function q(a){for(var a=a._tasks,b=a.length-1;0<=b;b--){var e=a[b];e.deferred.resolve(e.result)}}function v(a,b){void 0!=b&&!(b instanceof w)&&e(J,a)}function C(c,b,g){if(a.isPlainObject(c))for(var h in c){var i=
a.trim(h).replace(/ +/g," ").split(" "),k=[];""===i[0]?e(F):1===i.length?(k.push(i[0]),k.push("="),k.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(i[1])?3===i.length&&/^like$/i.test(i[1])?(k.push(i[0]),k.push(i[1]),k.push("?"),k.push("ESCAPE"),k.push('"'+i[2]+'"')):(k.push(i[0]),k.push(i[1]),k.push("?")):e(D);b.push(k.join(" "));g.push(c[h])}}function u(){}function w(a,b){this._db=a;this._tx=b;this._tasks=[];this._transactions=[]}function G(c,b,e,g,i){b=h.u.str.format(K,e,b);a.isPlainObject(g)?(e=[],
C(g,e,c),b+=" WHERE "+e.join(" AND ")):y(g)&&(b+=" WHERE "+g);a.isArray(i)&&(b+=" ORDER BY "+i.join(", "));return b}function B(c,b,e){this._txw=c;this._tableName=b;this._columns=a.isArray(e)?e.join(", "):"*";this._statement=this._orderBy=this._where=null;this._params=[];this._df=k();this._executed=!1}function i(a,b,e){this._txw=a;this._tableName=b;this._values=e?L(e):[];this._statement=[];this._params=[];this._df=k();this._executed=!1}function l(a,b,e){this._txw=a;this._tableName=b;this._value=e;
this._statement=this._where=null;this._params=[];this._df=k();this._executed=!1}function g(a,b){this._txw=a;this._tableName=b;this._statement=this._where=null;this._params=[];this._df=k();this._executed=!1}function r(a,b,e){this._txw=a;this._statement=b;this._params=e||[];this._df=k();this._executed=!1}function b(a){this._txw=a;this._queue=[];this._df=k();this._executed=!1;this._tasks=[]}function o(a){this._db=a}function t(){}var K="SELECT {0} FROM {1}",J=3002,D=3003,N=3010,F=3011,k=h.async.deferred;
a.extend(w.prototype,{_runTransaction:function(){return null!=this._tx},_execute:function(a,b,e){this._runTransaction()?this._tx.executeSql(a,b,e):this._db.transaction(a,b,e)},_addTask:function(a){this._tasks.push({deferred:a,result:null})},_setResult:function(a){this._tasks[this._tasks.length-1].result=a},_addTransaction:function(a){this._transactions.push(a)},_dispose:function(){for(var a=0,b=this._transactions.length;a<b;a++)this._transactions[a]._dispose()}});B.prototype=new u;a.extend(B.prototype,
{where:function(c){!a.isPlainObject(c)&&!y(c)&&e(3004,["Select","where"]);this._where=c;return this},orderBy:function(c){!a.isPlainObject(c)&&!y(c)&&e(3004,["Select","orderBy"]);this._orderBy=L(c);return this},execute:function(){var a=this,b=k(),g=this._executed,h=null;try{a._txw._addTask(b),g&&e(3E3),a._statement=G(a._params,a._tableName,a._columns,a._where,a._orderBy),a._txw._runTransaction()?a._txw._execute(this._statement,this._params,function(e,g){h=g.rows;a._txw._setResult(h);b.notify(h,a._txw)}):
a._txw._execute(function(e){a._txw._tx=e;e.executeSql(a._statement,a._params,function(e,g){h=g.rows;a._txw._setResult(h);b.notify(h,a._txw)})},function(b){a._txw._tx=null;m(a._txw,b);a._txw._dispose();a=null},function(){a._txw._tx=null;q(a._txw);a._txw._dispose();a=null})}catch(i){b.reject(i)}this._executed=!0;return b.promise()}});i.prototype=new u;a.extend(i.prototype,{execute:function(){function c(){b._statement.length===r?(o=t,b._txw._setResult(o),i.notify(o,b._txw)):b._txw._execute(b._statement[r],
b._params[r],function(a,b){r++;t.push(b.insertId);c()})}var b=this,g=function(){var c=b._values;if(0===c.length)b._statement.push(h.u.str.format("INSERT INTO {0} DEFAULT VALUES",b._tableName)),b._params.push([]);else for(var e=0,g=c.length;e<g;e++){var j=c[e];if(null==j)b._statement.push(h.u.str.format("INSERT INTO {0} DEFAULT VALUES",b._tableName)),b._params.push([]);else if(a.isPlainObject(j)){var i=[],k=[],m=[],l;for(l in j)i.push("?"),k.push(l),m.push(j[l]);b._statement.push(h.u.str.format("INSERT INTO {0} ({1}) VALUES ({2})",
b._tableName,k.join(", "),i.join(", ")));b._params.push(m)}}},i=k(),l=this._executed,o=null,t=[],r=0;try{b._txw._addTask(i),l&&e(3E3),g(),b._txw._runTransaction()?c():b._txw._execute(function(a){b._txw._tx=a;c()},function(a){b._txw._tx=null;m(b._txw,a);b._txw._dispose();b=null},function(){b._txw._tx=null;q(b._txw);b._txw._dispose();b=null})}catch(u){i.reject(u)}this._executed=!0;return i.promise()}});l.prototype=new u;a.extend(l.prototype,{where:function(c){!a.isPlainObject(c)&&!y(c)&&e(3004,["Update",
"where"]);this._where=c;return this},execute:function(){var c=this,b=function(){var b=c._where,e=c._value,f=[],g;for(g in e)f.push(g+" = ?"),c._params.push(e[g]);c._statement=h.u.str.format("UPDATE {0} SET {1}",c._tableName,f.join(", "));a.isPlainObject(b)?(e=[],C(b,e,c._params),c._statement+=" WHERE "+e.join(" AND ")):y(b)&&(c._statement+=" WHERE "+b)},g=k(),i=this._executed,l=null;try{c._txw._addTask(g),i&&e(3E3),b(),c._txw._runTransaction()?c._txw._execute(this._statement,this._params,function(a,
b){l=b.rowsAffected;c._txw._setResult(l);g.notify(l,c._txw)}):c._txw._execute(function(a){c._txw._tx=a;a.executeSql(c._statement,c._params,function(a,b){l=b.rowsAffected;c._txw._setResult(l);g.notify(l,c._txw)})},function(a){c._txw._tx=null;m(c._txw,a);c._txw._dispose();c=null},function(){c._txw._tx=null;q(c._txw);c._txw._dispose();c=null})}catch(o){g.reject(o)}this._executed=!0;return g.promise()}});g.prototype=new u;a.extend(g.prototype,{where:function(c){!a.isPlainObject(c)&&!y(c)&&e(3004,["Del",
"where"]);this._where=c;return this},execute:function(){var c=this,b=function(){var b=c._where;c._statement=h.u.str.format("DELETE FROM {0}",c._tableName);if(a.isPlainObject(b)){var e=[];C(b,e,c._params);c._statement+=" WHERE "+e.join(" AND ")}else y(b)&&(c._statement+=" WHERE "+b)},g=k(),i=this._executed,l=null;try{c._txw._addTask(g),i&&e(3E3),b(),c._txw._runTransaction()?c._txw._execute(this._statement,this._params,function(a,b){l=b.rowsAffected;c._txw._setResult(l);g.notify(l,c._txw)}):c._txw._execute(function(a){c._txw._tx=
a;a.executeSql(c._statement,c._params,function(a,b){l=b.rowsAffected;c._txw._setResult(l);g.notify(l,c._txw)})},function(a){c._txw._tx=null;m(c._txw,a);c._txw._dispose();c=null},function(){c._txw._tx=null;q(c._txw);c._txw._dispose();c=null})}catch(o){g.reject(o)}this._executed=!0;return g.promise()}});r.prototype=new u;a.extend(r.prototype,{execute:function(){var a=this,b=k(),g=this._executed,h=this._statement,i=this._params,l=null;try{a._txw._addTask(b),g&&e(3E3),a._txw._runTransaction()?a._txw._execute(h,
i,function(e,g){l=g;a._txw._setResult(l);b.notify(l,a._txw)}):a._txw._execute(function(e){a._txw._tx=e;e.executeSql(h,i,function(e,g){l=g;a._txw._setResult(l);b.notify(l,a._txw)})},function(b){a._txw._tx=null;m(a._txw,b);a._txw._dispose();a=null},function(){a._txw._tx=null;q(a._txw);a._txw._dispose();a=null})}catch(o){b.reject(o)}this._executed=!0;return b.promise()}});b.prototype=new u;a.extend(b.prototype,{add:function(a){a instanceof u||e(3009);this._queue.push(a);return this},execute:function(){function a(c,
b){function e(a){this._txw=new w(null,a)}for(var f=0,g=i.length;f<g;f++)e.prototype=i[f],c.push(new e(b))}function b(){if(g._tasks.length===o){for(var a=[],c=0,e=g._tasks.length;c<e;c++)a.push(g._tasks[c]._txw._tasks[0].result);g._txw._setResult(a);h.notify(a,g._txw)}else g._tasks[o].execute().progress(function(){o++;b()})}var g=this,h=this._df,i=this._queue,l=this._executed,o=0;try{g._txw._addTask(h),l&&e(3E3),this._txw&&this._txw._addTransaction(this),g._txw._runTransaction()?(a(g._tasks,g._txw._tx),
b()):g._txw._execute(function(e){a(g._tasks,e);g._txw._tx=e;b()},function(a){m(g._txw,a);g._txw._dispose()},function(){q(g._txw);g._txw._dispose()})}catch(r){h.reject(r)}this._df=k();this._executed=!0;return h.promise()},promise:function(){return this._df.promise()},_dispose:function(){for(var a=0,b=this._tasks.length;a<b;a++)this._tasks[a]._txw._tx=null,this._tasks[a]._txw=null;this._txw=this._txw._tx=null}});a.extend(o.prototype,{select:function(c,b,g){y(c)||e(3001,"select");v("select",g);!a.isArray(b)&&
"*"!==b&&e(3005,"select");return new B(g?g:new w(this._db,null),c,b)},insert:function(c,b,g){y(c)||e(3001,"insert");v("insert",g);null!=b&&!a.isArray(b)&&!a.isPlainObject(b)&&e(3006,"insert");return new i(g?g:new w(this._db,null),c,b)},update:function(b,f,g){y(b)||e(3001,"update");v("update",g);a.isPlainObject(f)||e(3006,"update");return new l(g?g:new w(this._db,null),b,f)},del:function(a,b){y(a)||e(3001,"del");v("del",b);return new g(b?b:new w(this._db,null),a)},sql:function(b,f,g){v("sql",g);y(b)||
e(3007,"sql");null!=f&&!a.isArray(f)&&e(3008,"sql");return new r(g?g:new w(this._db,null),b,f)},transaction:function(a){v("sql",a);return new b(a?a:new w(this._db,null))}});a.extend(t.prototype,{isSupported:!!window.openDatabase,open:function(a,b,e,g){if(this.isSupported)return a=openDatabase(a,b,e,g),new o(a)}});h.u.obj.expose("h5.api",{sqldb:new t})})();(function(){function e(a){this._storage=a}a.extend(e.prototype,{getLength:function(){return this._storage.length},key:function(a){return this._storage.key(a)},
getItem:function(a){a=this._storage.getItem(a);return null===a?null:h.u.obj.deserialize(a)},setItem:function(a,e){this._storage.setItem(a,h.u.obj.serialize(e))},removeItem:function(a){this._storage.removeItem(a)},clear:function(){this._storage.clear()},each:function(a){for(var e=this._storage,h=0,m=e.length;h<m;h++){var w=e.key(h);a(h,w,this.getItem(w))}}});h.u.obj.expose("h5.api.storage",{isSupported:!!window.localStorage,local:new e(window.localStorage),session:new e(window.sessionStorage)})})()})(jQuery);